!function(t){if("function"==typeof bootstrap)bootstrap("nedb",t);else if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeNedb=t}else"undefined"!=typeof window?window.Nedb=t():global.Nedb=t()}(function(){var t;return function(t,e,n){function r(n,o){if(!e[n]){if(!t[n]){var s="function"==typeof require&&require;if(!o&&s)return s(n,!0);if(i)return i(n,!0);throw new Error("Cannot find module '"+n+"'")}var a=e[n]={exports:{}};t[n][0].call(a.exports,function(e){var i=t[n][1][e];return r(i?i:e)},a,a.exports)}return e[n].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}var i=t("__browserify_process");i.EventEmitter||(i.EventEmitter=function(){});var o=n.EventEmitter=i.EventEmitter,s="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=10;o.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},o.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||s(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(s(e)){for(var n=Array.prototype.slice.call(arguments,1),r=e.slice(),i=0,o=r.length;o>i;i++)r[i].apply(this,n);return!0}return!1},o.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(s(this._events[t])){if(!this._events[t].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:a,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(t,e){var n=this;return n.on(t,function r(){n.removeListener(t,r),e.apply(this,arguments)}),this},o.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(s(n)){var i=r(n,e);if(0>i)return this;n.splice(i,1),0==n.length&&delete this._events[t]}else this._events[t]===e&&delete this._events[t];return this},o.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},o.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),s(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},o.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?"function"==typeof t._events[e]?1:t._events[e].length:0}},{__browserify_process:4}],2:[function(t,e,n){function r(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===Object.prototype.toString.call(t)}function i(t){"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function o(t){return"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}t("events"),n.isArray=r,n.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(t,e,u,h){function f(t,u){if(t&&"function"==typeof t.inspect&&t!==n&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(u);switch(typeof t){case"undefined":return l("undefined","undefined");case"string":var h="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return l(h,"string");case"number":return l(""+t,"number");case"boolean":return l(""+t,"boolean")}if(null===t)return l("null","null");var p=s(t),y=e?a(t):p;if("function"==typeof t&&0===y.length){if(i(t))return l(""+t,"regexp");var g=t.name?": "+t.name:"";return l("[Function"+g+"]","special")}if(o(t)&&0===y.length)return l(t.toUTCString(),"date");var d,v,m;if(r(t)?(v="Array",m=["[","]"]):(v="Object",m=["{","}"]),"function"==typeof t){var w=t.name?": "+t.name:"";d=i(t)?" "+t:" [Function"+w+"]"}else d="";if(o(t)&&(d=" "+t.toUTCString()),0===y.length)return m[0]+d+m[1];if(0>u)return i(t)?l(""+t,"regexp"):l("[Object]","special");c.push(t);var _=y.map(function(e){var n,i;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?i=t.__lookupSetter__(e)?l("[Getter/Setter]","special"):l("[Getter]","special"):t.__lookupSetter__(e)&&(i=l("[Setter]","special"))),p.indexOf(e)<0&&(n="["+e+"]"),i||(c.indexOf(t[e])<0?(i=null===u?f(t[e]):f(t[e],u-1),i.indexOf("\n")>-1&&(i=r(t)?i.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+i.split("\n").map(function(t){return"   "+t}).join("\n"))):i=l("[Circular]","special")),"undefined"==typeof n){if("Array"===v&&e.match(/^\d+$/))return i;n=JSON.stringify(""+e),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=l(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=l(n,"string"))}return n+": "+i});c.pop();var b=0,k=_.reduce(function(t,e){return b++,e.indexOf("\n")>=0&&b++,t+e.length+1},0);return _=k>50?m[0]+(""===d?"":d+"\n ")+" "+_.join(",\n  ")+" "+m[1]:m[0]+d+" "+_.join(", ")+" "+m[1]}var c=[],l=function(t,e){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return r?"["+n[r][0]+"m"+t+"["+n[r][1]+"m":t};return h||(l=function(t){return t}),f(t,"undefined"==typeof u?2:u)},n.log=function(){},n.pump=null;var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},a=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.hasOwnProperty.call(t,n)&&e.push(n);return e},u=Object.create||function(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t,n=new r,n.__proto__=t}return"undefined"!=typeof e&&Object.defineProperties&&Object.defineProperties(n,e),n};n.inherits=function(t,e){t.super_=e,t.prototype=u(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var h=/%[sdj%]/g;n.format=function(t){if("string"!=typeof t){for(var e=[],r=0;r<arguments.length;r++)e.push(n.inspect(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,o=i.length,s=String(t).replace(h,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return t}}),a=i[r];o>r;a=i[++r])s+=null===a||"object"!=typeof a?" "+a:" "+n.inspect(a);return s}},{events:1}],3:[function(t,e){t=function(t,e,n,r){function i(r){if(!n[r]){if(!e[r]){if(t)return t(r);throw new Error("Cannot find module '"+r+"'")}var o=n[r]={exports:{}};e[r][0](function(t){var n=e[r][1][t];return i(n?n:t)},o,o.exports)}return n[r].exports}for(var o=0;o<r.length;o++)i(r[o]);return i}("undefined"!=typeof t&&t,{1:[function(t,e){function n(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}function r(t,e){return void 0===e?""+e:"number"!=typeof e||!isNaN(e)&&isFinite(e)?"function"==typeof e||e instanceof RegExp?e.toString():e:e.toString()}function i(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function o(t,e,n,r,i){throw new d.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function s(t,e){t||o(t,!0,e,"==",d.ok)}function a(t,e){if(t===e)return!0;if(y.isBuffer(t)&&y.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:f(t,e)}function u(t){return null===t||void 0===t}function h(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function f(t,e){if(u(t)||u(e))return!1;if(t.prototype!==e.prototype)return!1;if(h(t))return h(e)?(t=g.call(t),e=g.call(e),a(t,e)):!1;try{var r,i,o=n(t),s=n(e)}catch(f){return!1}if(o.length!=s.length)return!1;for(o.sort(),s.sort(),i=o.length-1;i>=0;i--)if(o[i]!=s[i])return!1;for(i=o.length-1;i>=0;i--)if(r=o[i],!a(t[r],e[r]))return!1;return!0}function c(t,e){return t&&e?e instanceof RegExp?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function l(t,e,n,r){var i;"string"==typeof n&&(r=n,n=null);try{e()}catch(s){i=s}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&o("Missing expected exception"+r),!t&&c(i,n)&&o("Got unwanted exception"+r),t&&i&&n&&!c(i,n)||!t&&i)throw i}var p=t("util"),y=t("buffer").Buffer,g=Array.prototype.slice,d=e.exports=s;d.AssertionError=function(t){this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;var e=t.stackStartFunction||o;Error.captureStackTrace&&Error.captureStackTrace(this,e)},p.inherits(d.AssertionError,Error),d.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",i(JSON.stringify(this.actual,r),128),this.operator,i(JSON.stringify(this.expected,r),128)].join(" ")},d.AssertionError.__proto__=Error.prototype,d.fail=o,d.ok=s,d.equal=function(t,e,n){t!=e&&o(t,e,n,"==",d.equal)},d.notEqual=function(t,e,n){t==e&&o(t,e,n,"!=",d.notEqual)},d.deepEqual=function(t,e,n){a(t,e)||o(t,e,n,"deepEqual",d.deepEqual)},d.notDeepEqual=function(t,e,n){a(t,e)&&o(t,e,n,"notDeepEqual",d.notDeepEqual)},d.strictEqual=function(t,e,n){t!==e&&o(t,e,n,"===",d.strictEqual)},d.notStrictEqual=function(t,e,n){t===e&&o(t,e,n,"!==",d.notStrictEqual)},d.throws=function(){l.apply(this,[!0].concat(g.call(arguments)))},d.doesNotThrow=function(){l.apply(this,[!1].concat(g.call(arguments)))},d.ifError=function(t){if(t)throw t}},{util:2,buffer:3}],2:[function(t,e,n){function r(t){return t instanceof Array||Array.isArray(t)||t&&t!==Object.prototype&&r(t.__proto__)}function i(t){return t instanceof RegExp||"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function o(t){if(t instanceof Date)return!0;if("object"!=typeof t)return!1;var e=Date.prototype&&a(Date.prototype),n=t.__proto__&&a(t.__proto__);return JSON.stringify(n)===JSON.stringify(e)}t("events"),n.isArray=r,n.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(t,e,u,h){function f(t,u){if(t&&"function"==typeof t.inspect&&t!==n&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(u);switch(typeof t){case"undefined":return l("undefined","undefined");case"string":var h="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return l(h,"string");case"number":return l(""+t,"number");case"boolean":return l(""+t,"boolean")}if(null===t)return l("null","null");var p=s(t),y=e?a(t):p;if("function"==typeof t&&0===y.length){if(i(t))return l(""+t,"regexp");var g=t.name?": "+t.name:"";return l("[Function"+g+"]","special")}if(o(t)&&0===y.length)return l(t.toUTCString(),"date");var d,v,m;if(r(t)?(v="Array",m=["[","]"]):(v="Object",m=["{","}"]),"function"==typeof t){var w=t.name?": "+t.name:"";d=i(t)?" "+t:" [Function"+w+"]"}else d="";if(o(t)&&(d=" "+t.toUTCString()),0===y.length)return m[0]+d+m[1];if(0>u)return i(t)?l(""+t,"regexp"):l("[Object]","special");c.push(t);var _=y.map(function(e){var n,i;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?i=t.__lookupSetter__(e)?l("[Getter/Setter]","special"):l("[Getter]","special"):t.__lookupSetter__(e)&&(i=l("[Setter]","special"))),p.indexOf(e)<0&&(n="["+e+"]"),i||(c.indexOf(t[e])<0?(i=null===u?f(t[e]):f(t[e],u-1),i.indexOf("\n")>-1&&(i=r(t)?i.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+i.split("\n").map(function(t){return"   "+t}).join("\n"))):i=l("[Circular]","special")),"undefined"==typeof n){if("Array"===v&&e.match(/^\d+$/))return i;n=JSON.stringify(""+e),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=l(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=l(n,"string"))}return n+": "+i});c.pop();var b=0,k=_.reduce(function(t,e){return b++,e.indexOf("\n")>=0&&b++,t+e.length+1},0);return _=k>50?m[0]+(""===d?"":d+"\n ")+" "+_.join(",\n  ")+" "+m[1]:m[0]+d+" "+_.join(", ")+" "+m[1]}var c=[],l=function(t,e){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return r?"["+n[r][0]+"m"+t+"["+n[r][1]+"m":t};return h||(l=function(t){return t}),f(t,"undefined"==typeof u?2:u)},n.log=function(){},n.pump=null;var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},a=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.hasOwnProperty.call(t,n)&&e.push(n);return e},u=Object.create||function(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t,n=new r,n.__proto__=t}return"undefined"!=typeof e&&Object.defineProperties&&Object.defineProperties(n,e),n};n.inherits=function(t,e){t.super_=e,t.prototype=u(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var h=/%[sdj%]/g;n.format=function(t){if("string"!=typeof t){for(var e=[],r=0;r<arguments.length;r++)e.push(n.inspect(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,o=i.length,s=String(t).replace(h,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return t}}),a=i[r];o>r;a=i[++r])s+=null===a||"object"!=typeof a?" "+a:" "+n.inspect(a);return s}},{events:4}],5:[function(t,e,n){n.readIEEE754=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,h=u>>1,f=-7,c=n?0:i-1,l=n?1:-1,p=t[e+c];for(c+=l,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+c],c+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+t[e+c],c+=l,f-=8);if(0===o)o=1-h;else{if(o===u)return s?0/0:1/0*(p?-1:1);s+=Math.pow(2,r),o-=h}return(p?-1:1)*s*Math.pow(2,o-r)},n.writeIEEE754=function(t,e,n,r,i,o){var s,a,u,h=8*o-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?o-1:0,y=r?-1:1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+c>=1?l/u:l*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(e*u-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=y,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;t[n+p]=255&s,p+=y,s/=256,h-=8);t[n+p-y]|=128*g}},{}],6:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(t,e,n){!function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}t.EventEmitter||(t.EventEmitter=function(){});var r=n.EventEmitter=t.EventEmitter,i="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=10;r.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},r.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(i(e)){for(var n=Array.prototype.slice.call(arguments,1),r=e.slice(),o=0,s=r.length;s>o;o++)r[o].apply(this,n);return!0}return!1},r.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(i(this._events[t])){if(!this._events[t].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:o,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){var n=this;return n.on(t,function r(){n.removeListener(t,r),e.apply(this,arguments)}),this},r.prototype.removeListener=function(t,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(i(r)){var o=e(r,n);if(0>o)return this;r.splice(o,1),0==r.length&&delete this._events[t]}else this._events[t]===n&&delete this._events[t];return this},r.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},r.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),i(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}}(t("__browserify_process"))},{__browserify_process:6}],"buffer-browserify":[function(t,e){e.exports=t("q9TxCC")},{}],q9TxCC:[function(t,e,n){function r(t){this.length=t}function i(t){return 16>t?"0"+t.toString(16):t.toString(16)}function o(t){for(var e=[],n=0;n<t.length;n++)if(t.charCodeAt(n)<=127)e.push(t.charCodeAt(n));else for(var r=encodeURIComponent(t.charAt(n)).substr(1).split("%"),i=0;i<r.length;i++)e.push(parseInt(r[i],16));return e}function s(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function a(e){return t("base64-js").toByteArray(e)}function u(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);)e[i+n]=t[i],i++;return i}function h(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function f(t){return t=~~Math.ceil(+t),0>t?0:t}function c(t,e,n){if(!(this instanceof c))return new c(t,e,n);var i;if("number"==typeof n)this.length=f(e),this.parent=t,this.offset=n;else{switch(i=typeof t){case"number":this.length=f(t);break;case"string":this.length=c.byteLength(t,e);break;case"object":this.length=f(t.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>c.poolSize?(this.parent=new r(this.length),this.offset=0):((!L||L.length-L.used<this.length)&&p(),this.parent=L,this.offset=L.used,L.used+=this.length),l(t))for(var o=0;o<this.length;o++)this.parent[o+this.offset]=t instanceof c?t.readUInt8(o):t[o];else"string"==i&&(this.length=this.write(t,0,e))}}function l(t){return Array.isArray(t)||c.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function p(){L=new r(c.poolSize),L.used=0}function y(t,e,n,r){var i=0;return r||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+1<t.length,"Trying to read beyond buffer length")),e>=t.length?0:(n?(i=t.parent[t.offset+e]<<8,e+1<t.length&&(i|=t.parent[t.offset+e+1])):(i=t.parent[t.offset+e],e+1<t.length&&(i|=t.parent[t.offset+e+1]<<8)),i)}function g(t,e,n,r){var i=0;return r||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+3<t.length,"Trying to read beyond buffer length")),e>=t.length?0:(n?(e+1<t.length&&(i=t.parent[t.offset+e+1]<<16),e+2<t.length&&(i|=t.parent[t.offset+e+2]<<8),e+3<t.length&&(i|=t.parent[t.offset+e+3]),i+=t.parent[t.offset+e]<<24>>>0):(e+2<t.length&&(i=t.parent[t.offset+e+2]<<16),e+1<t.length&&(i|=t.parent[t.offset+e+1]<<8),i|=t.parent[t.offset+e],e+3<t.length&&(i+=t.parent[t.offset+e+3]<<24>>>0)),i)}function d(t,e,n,r){var i,o;return r||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+1<t.length,"Trying to read beyond buffer length")),o=y(t,e,n,r),i=32768&o,i?-1*(65535-o+1):o}function v(t,e,n,r){var i,o;return r||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+3<t.length,"Trying to read beyond buffer length")),o=g(t,e,n,r),i=2147483648&o,i?-1*(4294967295-o+1):o}function m(e,n,r,i){return i||(j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(n+3<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,23,4)}function w(e,n,r,i){return i||(j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(n+7<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,52,8)}function _(t,e){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(t>=0,"specified a negative value for writing an unsigned value"),j.ok(e>=t,"value is larger than maximum value for type"),j.ok(Math.floor(t)===t,"value has a fractional component")}function b(t,e,n,r,i){i||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+1<t.length,"trying to write beyond buffer length"),_(e,65535));for(var o=0;o<Math.min(t.length-n,2);o++)t.parent[t.offset+n+o]=(e&255<<8*(r?1-o:o))>>>8*(r?1-o:o)}function k(t,e,n,r,i){i||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+3<t.length,"trying to write beyond buffer length"),_(e,4294967295));for(var o=0;o<Math.min(t.length-n,4);o++)t.parent[t.offset+n+o]=255&e>>>8*(r?3-o:o)}function E(t,e,n){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(e>=t,"value larger than maximum allowed value"),j.ok(t>=n,"value smaller than minimum allowed value"),j.ok(Math.floor(t)===t,"value has a fractional component")}function x(t,e,n){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(e>=t,"value larger than maximum allowed value"),j.ok(t>=n,"value smaller than minimum allowed value")}function A(t,e,n,r,i){i||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+1<t.length,"Trying to write beyond buffer length"),E(e,32767,-32768)),e>=0?b(t,e,n,r,i):b(t,65535+e+1,n,r,i)}function I(t,e,n,r,i){i||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+3<t.length,"Trying to write beyond buffer length"),E(e,2147483647,-2147483648)),e>=0?k(t,e,n,r,i):k(t,4294967295+e+1,n,r,i)}function S(e,n,r,i,o){o||(j.ok(void 0!==n&&null!==n,"missing value"),j.ok("boolean"==typeof i,"missing or invalid endian"),j.ok(void 0!==r&&null!==r,"missing offset"),j.ok(r+3<e.length,"Trying to write beyond buffer length"),x(n,3.4028234663852886e38,-3.4028234663852886e38)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,23,4)}function O(e,n,r,i,o){o||(j.ok(void 0!==n&&null!==n,"missing value"),j.ok("boolean"==typeof i,"missing or invalid endian"),j.ok(void 0!==r&&null!==r,"missing offset"),j.ok(r+7<e.length,"Trying to write beyond buffer length"),x(n,1.7976931348623157e308,-1.7976931348623157e308)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,52,8)}var j=t("assert");n.INSPECT_MAX_BYTES=50,r.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return o(t).length;case"ascii":case"binary":return t.length;case"base64":return a(t).length;default:throw new Error("Unknown encoding")}},r.prototype.utf8Write=function(t,e,n){return r._charsWritten=u(o(t),this,e,n)},r.prototype.asciiWrite=function(t,e,n){return r._charsWritten=u(s(t),this,e,n)},r.prototype.binaryWrite=r.prototype.asciiWrite,r.prototype.base64Write=function(t,e,n){return r._charsWritten=u(a(t),this,e,n)},r.prototype.base64Slice=function(){var e=Array.prototype.slice.apply(this,arguments);return t("base64-js").fromByteArray(e)},r.prototype.utf8Slice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n="",r=0;r<t.length;)t[r]<=127?(e+=h(n)+String.fromCharCode(t[r]),n=""):n+="%"+t[r].toString(16),r++;return e+h(n)},r.prototype.asciiSlice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},r.prototype.binarySlice=r.prototype.asciiSlice,r.prototype.inspect=function(){for(var t=[],e=this.length,r=0;e>r;r++)if(t[r]=i(this[r]),r==n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<SlowBuffer "+t.join(" ")+">"},r.prototype.hexSlice=function(t,e){var n=this.length;(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n);for(var r="",o=t;e>o;o++)r+=i(this[o]);return r},r.prototype.toString=function(t,e,n){if(t=String(t||"utf8").toLowerCase(),e=+e||0,"undefined"==typeof n&&(n=this.length),+n==e)return"";switch(t){case"hex":return this.hexSlice(e,n);case"utf8":case"utf-8":return this.utf8Slice(e,n);case"ascii":return this.asciiSlice(e,n);case"binary":return this.binarySlice(e,n);case"base64":return this.base64Slice(e,n);case"ucs2":case"ucs-2":return this.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},r.prototype.hexWrite=function(t,e,n){e=+e||0;var i=this.length-e;n?(n=+n,n>i&&(n=i)):n=i;var o=t.length;if(o%2)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;n>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");this[e+s]=a}return r._charsWritten=2*s,s},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var i=r;r=e,e=n,n=i}e=+e||0;var o=this.length-e;switch(n?(n=+n,n>o&&(n=o)):n=o,r=String(r||"utf8").toLowerCase()){case"hex":return this.hexWrite(t,e,n);case"utf8":case"utf-8":return this.utf8Write(t,e,n);case"ascii":return this.asciiWrite(t,e,n);case"binary":return this.binaryWrite(t,e,n);case"base64":return this.base64Write(t,e,n);case"ucs2":case"ucs-2":return this.ucs2Write(t,e,n);default:throw new Error("Unknown encoding")}},r.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new c(this,e-t,+t)},r.prototype.copy=function(t,e,n,r){for(var i=[],o=n;r>o;o++)j.ok("undefined"!=typeof this[o],"copying undefined buffer bytes!"),i.push(this[o]);for(var o=e;o<e+i.length;o++)t[o]=i[o-e]},r.prototype.fill=function(t,e,n){if(n>this.length)throw new Error("oob");if(e>n)throw new Error("oob");for(var r=e;n>r;r++)this[r]=t},n.SlowBuffer=r,n.Buffer=c,c.poolSize=8192;var L;c.isBuffer=function(t){return t instanceof c||t instanceof r},c.concat=function(t,e){if(!Array.isArray(t))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===t.length)return new c(0);if(1===t.length)return t[0];if("number"!=typeof e){e=0;for(var n=0;n<t.length;n++){var r=t[n];e+=r.length}}for(var i=new c(e),o=0,n=0;n<t.length;n++){var r=t[n];r.copy(i,o),o+=r.length}return i},c.prototype.inspect=function(){for(var t=[],e=this.length,r=0;e>r;r++)if(t[r]=i(this.parent[r+this.offset]),r==n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},c.prototype.get=function(t){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]},c.prototype.set=function(t,e){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]=e},c.prototype.write=function(t,e,n,i){if(isFinite(e))isFinite(n)||(i=n,n=void 0);else{var o=i;i=e,e=n,n=o}e=+e||0;var s=this.length-e;n?(n=+n,n>s&&(n=s)):n=s,i=String(i||"utf8").toLowerCase();var a;switch(i){case"hex":a=this.parent.hexWrite(t,this.offset+e,n);break;case"utf8":case"utf-8":a=this.parent.utf8Write(t,this.offset+e,n);break;case"ascii":a=this.parent.asciiWrite(t,this.offset+e,n);break;case"binary":a=this.parent.binaryWrite(t,this.offset+e,n);break;case"base64":a=this.parent.base64Write(t,this.offset+e,n);break;case"ucs2":case"ucs-2":a=this.parent.ucs2Write(t,this.offset+e,n);break;default:throw new Error("Unknown encoding")}return c._charsWritten=r._charsWritten,a},c.prototype.toString=function(t,e,n){switch(t=String(t||"utf8").toLowerCase(),"undefined"==typeof e||0>e?e=0:e>this.length&&(e=this.length),"undefined"==typeof n||n>this.length?n=this.length:0>n&&(n=0),e+=this.offset,n+=this.offset,t){case"hex":return this.parent.hexSlice(e,n);case"utf8":case"utf-8":return this.parent.utf8Slice(e,n);case"ascii":return this.parent.asciiSlice(e,n);case"binary":return this.parent.binarySlice(e,n);case"base64":return this.parent.base64Slice(e,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},c.byteLength=r.byteLength,c.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw new Error("value is not a number");if(e>n)throw new Error("end < start");if(n===e)return 0;if(0==this.length)return 0;if(0>e||e>=this.length)throw new Error("start out of bounds");if(0>n||n>this.length)throw new Error("end out of bounds");return this.parent.fill(t,e+this.offset,n+this.offset)},c.prototype.copy=function(t,e,n,r){var i=this;if(n||(n=0),r||(r=this.length),e||(e=0),n>r)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==t.length||0==i.length)return 0;if(0>e||e>=t.length)throw new Error("targetStart out of bounds");if(0>n||n>=i.length)throw new Error("sourceStart out of bounds");if(0>r||r>i.length)throw new Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n),this.parent.copy(t.parent,e+t.offset,n+this.offset,r+this.offset)},c.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new c(this.parent,e-t,+t+this.offset)},c.prototype.utf8Slice=function(t,e){return this.toString("utf8",t,e)},c.prototype.binarySlice=function(t,e){return this.toString("binary",t,e)},c.prototype.asciiSlice=function(t,e){return this.toString("ascii",t,e)},c.prototype.utf8Write=function(t,e){return this.write(t,e,"utf8")
},c.prototype.binaryWrite=function(t,e){return this.write(t,e,"binary")},c.prototype.asciiWrite=function(t,e){return this.write(t,e,"ascii")},c.prototype.readUInt8=function(t,e){var n=this;return e||(j.ok(void 0!==t&&null!==t,"missing offset"),j.ok(t<n.length,"Trying to read beyond buffer length")),t>=n.length?void 0:n.parent[n.offset+t]},c.prototype.readUInt16LE=function(t,e){return y(this,t,!1,e)},c.prototype.readUInt16BE=function(t,e){return y(this,t,!0,e)},c.prototype.readUInt32LE=function(t,e){return g(this,t,!1,e)},c.prototype.readUInt32BE=function(t,e){return g(this,t,!0,e)},c.prototype.readInt8=function(t,e){var n,r=this;return e||(j.ok(void 0!==t&&null!==t,"missing offset"),j.ok(t<r.length,"Trying to read beyond buffer length")),t>=r.length?void 0:(n=128&r.parent[r.offset+t],n?-1*(255-r.parent[r.offset+t]+1):r.parent[r.offset+t])},c.prototype.readInt16LE=function(t,e){return d(this,t,!1,e)},c.prototype.readInt16BE=function(t,e){return d(this,t,!0,e)},c.prototype.readInt32LE=function(t,e){return v(this,t,!1,e)},c.prototype.readInt32BE=function(t,e){return v(this,t,!0,e)},c.prototype.readFloatLE=function(t,e){return m(this,t,!1,e)},c.prototype.readFloatBE=function(t,e){return m(this,t,!0,e)},c.prototype.readDoubleLE=function(t,e){return w(this,t,!1,e)},c.prototype.readDoubleBE=function(t,e){return w(this,t,!0,e)},c.prototype.writeUInt8=function(t,e,n){var r=this;n||(j.ok(void 0!==t&&null!==t,"missing value"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e<r.length,"trying to write beyond buffer length"),_(t,255)),e<r.length&&(r.parent[r.offset+e]=t)},c.prototype.writeUInt16LE=function(t,e,n){b(this,t,e,!1,n)},c.prototype.writeUInt16BE=function(t,e,n){b(this,t,e,!0,n)},c.prototype.writeUInt32LE=function(t,e,n){k(this,t,e,!1,n)},c.prototype.writeUInt32BE=function(t,e,n){k(this,t,e,!0,n)},c.prototype.writeInt8=function(t,e,n){var r=this;n||(j.ok(void 0!==t&&null!==t,"missing value"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e<r.length,"Trying to write beyond buffer length"),E(t,127,-128)),t>=0?r.writeUInt8(t,e,n):r.writeUInt8(255+t+1,e,n)},c.prototype.writeInt16LE=function(t,e,n){A(this,t,e,!1,n)},c.prototype.writeInt16BE=function(t,e,n){A(this,t,e,!0,n)},c.prototype.writeInt32LE=function(t,e,n){I(this,t,e,!1,n)},c.prototype.writeInt32BE=function(t,e,n){I(this,t,e,!0,n)},c.prototype.writeFloatLE=function(t,e,n){S(this,t,e,!1,n)},c.prototype.writeFloatBE=function(t,e,n){S(this,t,e,!0,n)},c.prototype.writeDoubleLE=function(t,e,n){O(this,t,e,!1,n)},c.prototype.writeDoubleBE=function(t,e,n){O(this,t,e,!0,n)},r.prototype.readUInt8=c.prototype.readUInt8,r.prototype.readUInt16LE=c.prototype.readUInt16LE,r.prototype.readUInt16BE=c.prototype.readUInt16BE,r.prototype.readUInt32LE=c.prototype.readUInt32LE,r.prototype.readUInt32BE=c.prototype.readUInt32BE,r.prototype.readInt8=c.prototype.readInt8,r.prototype.readInt16LE=c.prototype.readInt16LE,r.prototype.readInt16BE=c.prototype.readInt16BE,r.prototype.readInt32LE=c.prototype.readInt32LE,r.prototype.readInt32BE=c.prototype.readInt32BE,r.prototype.readFloatLE=c.prototype.readFloatLE,r.prototype.readFloatBE=c.prototype.readFloatBE,r.prototype.readDoubleLE=c.prototype.readDoubleLE,r.prototype.readDoubleBE=c.prototype.readDoubleBE,r.prototype.writeUInt8=c.prototype.writeUInt8,r.prototype.writeUInt16LE=c.prototype.writeUInt16LE,r.prototype.writeUInt16BE=c.prototype.writeUInt16BE,r.prototype.writeUInt32LE=c.prototype.writeUInt32LE,r.prototype.writeUInt32BE=c.prototype.writeUInt32BE,r.prototype.writeInt8=c.prototype.writeInt8,r.prototype.writeInt16LE=c.prototype.writeInt16LE,r.prototype.writeInt16BE=c.prototype.writeInt16BE,r.prototype.writeInt32LE=c.prototype.writeInt32LE,r.prototype.writeInt32BE=c.prototype.writeInt32BE,r.prototype.writeFloatLE=c.prototype.writeFloatLE,r.prototype.writeFloatBE=c.prototype.writeFloatBE,r.prototype.writeDoubleLE=c.prototype.writeDoubleLE,r.prototype.writeDoubleBE=c.prototype.writeDoubleBE},{assert:1,"./buffer_ieee754":5,"base64-js":7}],7:[function(t,e){!function(){"use strict";function t(t){var e,n,i,o,s,a;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(s=t.indexOf("="),s=s>0?t.length-s:0,a=[],i=s>0?t.length-4:t.length,e=0,n=0;i>e;e+=4,n+=3)o=r.indexOf(t[e])<<18|r.indexOf(t[e+1])<<12|r.indexOf(t[e+2])<<6|r.indexOf(t[e+3]),a.push((16711680&o)>>16),a.push((65280&o)>>8),a.push(255&o);return 2===s?(o=r.indexOf(t[e])<<2|r.indexOf(t[e+1])>>4,a.push(255&o)):1===s&&(o=r.indexOf(t[e])<<10|r.indexOf(t[e+1])<<4|r.indexOf(t[e+2])>>2,a.push(255&o>>8),a.push(255&o)),a}function n(t){function e(t){return r[63&t>>18]+r[63&t>>12]+r[63&t>>6]+r[63&t]}var n,i,o,s=t.length%3,a="";for(n=0,o=t.length-s;o>n;n+=3)i=(t[n]<<16)+(t[n+1]<<8)+t[n+2],a+=e(i);switch(s){case 1:i=t[t.length-1],a+=r[i>>2],a+=r[63&i<<4],a+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],a+=r[i>>10],a+=r[63&i>>4],a+=r[63&i<<2],a+="="}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=n}()},{}],8:[function(t,e,n){n.readIEEE754=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,h=u>>1,f=-7,c=n?0:i-1,l=n?1:-1,p=t[e+c];for(c+=l,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+c],c+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+t[e+c],c+=l,f-=8);if(0===o)o=1-h;else{if(o===u)return s?0/0:1/0*(p?-1:1);s+=Math.pow(2,r),o-=h}return(p?-1:1)*s*Math.pow(2,o-r)},n.writeIEEE754=function(t,e,n,r,i,o){var s,a,u,h=8*o-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?o-1:0,y=r?-1:1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+c>=1?l/u:l*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(e*u-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=y,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;t[n+p]=255&s,p+=y,s/=256,h-=8);t[n+p-y]|=128*g}},{}],3:[function(t,e,n){function r(t){this.length=t}function i(t){return 16>t?"0"+t.toString(16):t.toString(16)}function o(t){for(var e=[],n=0;n<t.length;n++)if(t.charCodeAt(n)<=127)e.push(t.charCodeAt(n));else for(var r=encodeURIComponent(t.charAt(n)).substr(1).split("%"),i=0;i<r.length;i++)e.push(parseInt(r[i],16));return e}function s(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function a(e){return t("base64-js").toByteArray(e)}function u(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);)e[i+n]=t[i],i++;return i}function h(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function f(t){return t=~~Math.ceil(+t),0>t?0:t}function c(t,e,n){if(!(this instanceof c))return new c(t,e,n);var i;if("number"==typeof n)this.length=f(e),this.parent=t,this.offset=n;else{switch(i=typeof t){case"number":this.length=f(t);break;case"string":this.length=c.byteLength(t,e);break;case"object":this.length=f(t.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>c.poolSize?(this.parent=new r(this.length),this.offset=0):((!L||L.length-L.used<this.length)&&p(),this.parent=L,this.offset=L.used,L.used+=this.length),l(t))for(var o=0;o<this.length;o++)this.parent[o+this.offset]=t[o];else"string"==i&&(this.length=this.write(t,0,e))}}function l(t){return Array.isArray(t)||c.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function p(){L=new r(c.poolSize),L.used=0}function y(t,e,n,r){var i=0;return r||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+1<t.length,"Trying to read beyond buffer length")),n?(i=t.parent[t.offset+e]<<8,i|=t.parent[t.offset+e+1]):(i=t.parent[t.offset+e],i|=t.parent[t.offset+e+1]<<8),i}function g(t,e,n,r){var i=0;return r||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+3<t.length,"Trying to read beyond buffer length")),n?(i=t.parent[t.offset+e+1]<<16,i|=t.parent[t.offset+e+2]<<8,i|=t.parent[t.offset+e+3],i+=t.parent[t.offset+e]<<24>>>0):(i=t.parent[t.offset+e+2]<<16,i|=t.parent[t.offset+e+1]<<8,i|=t.parent[t.offset+e],i+=t.parent[t.offset+e+3]<<24>>>0),i}function d(t,e,n,r){var i,o;return r||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+1<t.length,"Trying to read beyond buffer length")),o=y(t,e,n,r),i=32768&o,i?-1*(65535-o+1):o}function v(t,e,n,r){var i,o;return r||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+3<t.length,"Trying to read beyond buffer length")),o=g(t,e,n,r),i=2147483648&o,i?-1*(4294967295-o+1):o}function m(e,n,r,i){return i||(j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(n+3<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,23,4)}function w(e,n,r,i){return i||(j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(n+7<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,n,r,52,8)}function _(t,e){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(t>=0,"specified a negative value for writing an unsigned value"),j.ok(e>=t,"value is larger than maximum value for type"),j.ok(Math.floor(t)===t,"value has a fractional component")}function b(t,e,n,r,i){i||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+1<t.length,"trying to write beyond buffer length"),_(e,65535)),r?(t.parent[t.offset+n]=(65280&e)>>>8,t.parent[t.offset+n+1]=255&e):(t.parent[t.offset+n+1]=(65280&e)>>>8,t.parent[t.offset+n]=255&e)}function k(t,e,n,r,i){i||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+3<t.length,"trying to write beyond buffer length"),_(e,4294967295)),r?(t.parent[t.offset+n]=255&e>>>24,t.parent[t.offset+n+1]=255&e>>>16,t.parent[t.offset+n+2]=255&e>>>8,t.parent[t.offset+n+3]=255&e):(t.parent[t.offset+n+3]=255&e>>>24,t.parent[t.offset+n+2]=255&e>>>16,t.parent[t.offset+n+1]=255&e>>>8,t.parent[t.offset+n]=255&e)}function E(t,e,n){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(e>=t,"value larger than maximum allowed value"),j.ok(t>=n,"value smaller than minimum allowed value"),j.ok(Math.floor(t)===t,"value has a fractional component")}function x(t,e,n){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(e>=t,"value larger than maximum allowed value"),j.ok(t>=n,"value smaller than minimum allowed value")}function A(t,e,n,r,i){i||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+1<t.length,"Trying to write beyond buffer length"),E(e,32767,-32768)),e>=0?b(t,e,n,r,i):b(t,65535+e+1,n,r,i)}function I(t,e,n,r,i){i||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+3<t.length,"Trying to write beyond buffer length"),E(e,2147483647,-2147483648)),e>=0?k(t,e,n,r,i):k(t,4294967295+e+1,n,r,i)}function S(e,n,r,i,o){o||(j.ok(void 0!==n&&null!==n,"missing value"),j.ok("boolean"==typeof i,"missing or invalid endian"),j.ok(void 0!==r&&null!==r,"missing offset"),j.ok(r+3<e.length,"Trying to write beyond buffer length"),x(n,3.4028234663852886e38,-3.4028234663852886e38)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,23,4)}function O(e,n,r,i,o){o||(j.ok(void 0!==n&&null!==n,"missing value"),j.ok("boolean"==typeof i,"missing or invalid endian"),j.ok(void 0!==r&&null!==r,"missing offset"),j.ok(r+7<e.length,"Trying to write beyond buffer length"),x(n,1.7976931348623157e308,-1.7976931348623157e308)),t("./buffer_ieee754").writeIEEE754(e,n,r,i,52,8)}var j=t("assert");n.INSPECT_MAX_BYTES=50,r.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return o(t).length;case"ascii":return t.length;case"base64":return a(t).length;default:throw new Error("Unknown encoding")}},r.prototype.utf8Write=function(t,e,n){return r._charsWritten=u(o(t),this,e,n)},r.prototype.asciiWrite=function(t,e,n){return r._charsWritten=u(s(t),this,e,n)},r.prototype.base64Write=function(t,e,n){return r._charsWritten=u(a(t),this,e,n)},r.prototype.base64Slice=function(){var e=Array.prototype.slice.apply(this,arguments);return t("base64-js").fromByteArray(e)},r.prototype.utf8Slice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n="",r=0;r<t.length;)t[r]<=127?(e+=h(n)+String.fromCharCode(t[r]),n=""):n+="%"+t[r].toString(16),r++;return e+h(n)},r.prototype.asciiSlice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},r.prototype.inspect=function(){for(var t=[],e=this.length,r=0;e>r;r++)if(t[r]=i(this[r]),r==n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<SlowBuffer "+t.join(" ")+">"},r.prototype.hexSlice=function(t,e){var n=this.length;(!t||0>t)&&(t=0),(!e||0>e||e>n)&&(e=n);for(var r="",o=t;e>o;o++)r+=i(this[o]);return r},r.prototype.toString=function(t,e,n){if(t=String(t||"utf8").toLowerCase(),e=+e||0,"undefined"==typeof n&&(n=this.length),+n==e)return"";switch(t){case"hex":return this.hexSlice(e,n);case"utf8":case"utf-8":return this.utf8Slice(e,n);case"ascii":return this.asciiSlice(e,n);case"binary":return this.binarySlice(e,n);case"base64":return this.base64Slice(e,n);case"ucs2":case"ucs-2":return this.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},r.prototype.hexWrite=function(t,e,n){e=+e||0;var i=this.length-e;n?(n=+n,n>i&&(n=i)):n=i;var o=t.length;if(o%2)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;n>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");this[e+s]=a}return r._charsWritten=2*s,s},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var i=r;r=e,e=n,n=i}e=+e||0;var o=this.length-e;switch(n?(n=+n,n>o&&(n=o)):n=o,r=String(r||"utf8").toLowerCase()){case"hex":return this.hexWrite(t,e,n);case"utf8":case"utf-8":return this.utf8Write(t,e,n);case"ascii":return this.asciiWrite(t,e,n);case"binary":return this.binaryWrite(t,e,n);case"base64":return this.base64Write(t,e,n);case"ucs2":case"ucs-2":return this.ucs2Write(t,e,n);default:throw new Error("Unknown encoding")}},r.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new c(this,e-t,+t)},r.prototype.copy=function(t,e,n,r){for(var i=[],o=n;r>o;o++)j.ok("undefined"!=typeof this[o],"copying undefined buffer bytes!"),i.push(this[o]);for(var o=e;o<e+i.length;o++)t[o]=i[o-e]},n.SlowBuffer=r,n.Buffer=c,c.poolSize=8192;var L;c.isBuffer=function(t){return t instanceof c||t instanceof r},c.concat=function(t,e){if(!Array.isArray(t))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===t.length)return new c(0);if(1===t.length)return t[0];if("number"!=typeof e){e=0;for(var n=0;n<t.length;n++){var r=t[n];e+=r.length}}for(var i=new c(e),o=0,n=0;n<t.length;n++){var r=t[n];r.copy(i,o),o+=r.length}return i},c.prototype.inspect=function(){for(var t=[],e=this.length,r=0;e>r;r++)if(t[r]=i(this.parent[r+this.offset]),r==n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},c.prototype.get=function(t){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]},c.prototype.set=function(t,e){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]=e},c.prototype.write=function(t,e,n,i){if(isFinite(e))isFinite(n)||(i=n,n=void 0);else{var o=i;i=e,e=n,n=o}e=+e||0;var s=this.length-e;n?(n=+n,n>s&&(n=s)):n=s,i=String(i||"utf8").toLowerCase();var a;switch(i){case"hex":a=this.parent.hexWrite(t,this.offset+e,n);break;case"utf8":case"utf-8":a=this.parent.utf8Write(t,this.offset+e,n);break;case"ascii":a=this.parent.asciiWrite(t,this.offset+e,n);break;case"binary":a=this.parent.binaryWrite(t,this.offset+e,n);break;case"base64":a=this.parent.base64Write(t,this.offset+e,n);break;case"ucs2":case"ucs-2":a=this.parent.ucs2Write(t,this.offset+e,n);break;default:throw new Error("Unknown encoding")}return c._charsWritten=r._charsWritten,a},c.prototype.toString=function(t,e,n){switch(t=String(t||"utf8").toLowerCase(),"undefined"==typeof e||0>e?e=0:e>this.length&&(e=this.length),"undefined"==typeof n||n>this.length?n=this.length:0>n&&(n=0),e+=this.offset,n+=this.offset,t){case"hex":return this.parent.hexSlice(e,n);case"utf8":case"utf-8":return this.parent.utf8Slice(e,n);case"ascii":return this.parent.asciiSlice(e,n);case"binary":return this.parent.binarySlice(e,n);case"base64":return this.parent.base64Slice(e,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(e,n);default:throw new Error("Unknown encoding")}},c.byteLength=r.byteLength,c.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw new Error("value is not a number");if(e>n)throw new Error("end < start");if(n===e)return 0;if(0==this.length)return 0;if(0>e||e>=this.length)throw new Error("start out of bounds");if(0>n||n>this.length)throw new Error("end out of bounds");return this.parent.fill(t,e+this.offset,n+this.offset)},c.prototype.copy=function(t,e,n,r){var i=this;if(n||(n=0),r||(r=this.length),e||(e=0),n>r)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==t.length||0==i.length)return 0;if(0>e||e>=t.length)throw new Error("targetStart out of bounds");if(0>n||n>=i.length)throw new Error("sourceStart out of bounds");if(0>r||r>i.length)throw new Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n),this.parent.copy(t.parent,e+t.offset,n+this.offset,r+this.offset)},c.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new c(this.parent,e-t,+t+this.offset)},c.prototype.utf8Slice=function(t,e){return this.toString("utf8",t,e)},c.prototype.binarySlice=function(t,e){return this.toString("binary",t,e)},c.prototype.asciiSlice=function(t,e){return this.toString("ascii",t,e)},c.prototype.utf8Write=function(t,e){return this.write(t,e,"utf8")},c.prototype.binaryWrite=function(t,e){return this.write(t,e,"binary")},c.prototype.asciiWrite=function(t,e){return this.write(t,e,"ascii")},c.prototype.readUInt8=function(t,e){var n=this;return e||(j.ok(void 0!==t&&null!==t,"missing offset"),j.ok(t<n.length,"Trying to read beyond buffer length")),n.parent[n.offset+t]},c.prototype.readUInt16LE=function(t,e){return y(this,t,!1,e)},c.prototype.readUInt16BE=function(t,e){return y(this,t,!0,e)},c.prototype.readUInt32LE=function(t,e){return g(this,t,!1,e)},c.prototype.readUInt32BE=function(t,e){return g(this,t,!0,e)},c.prototype.readInt8=function(t,e){var n,r=this;return e||(j.ok(void 0!==t&&null!==t,"missing offset"),j.ok(t<r.length,"Trying to read beyond buffer length")),n=128&r.parent[r.offset+t],n?-1*(255-r.parent[r.offset+t]+1):r.parent[r.offset+t]},c.prototype.readInt16LE=function(t,e){return d(this,t,!1,e)},c.prototype.readInt16BE=function(t,e){return d(this,t,!0,e)},c.prototype.readInt32LE=function(t,e){return v(this,t,!1,e)},c.prototype.readInt32BE=function(t,e){return v(this,t,!0,e)},c.prototype.readFloatLE=function(t,e){return m(this,t,!1,e)},c.prototype.readFloatBE=function(t,e){return m(this,t,!0,e)},c.prototype.readDoubleLE=function(t,e){return w(this,t,!1,e)},c.prototype.readDoubleBE=function(t,e){return w(this,t,!0,e)},c.prototype.writeUInt8=function(t,e,n){var r=this;n||(j.ok(void 0!==t&&null!==t,"missing value"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e<r.length,"trying to write beyond buffer length"),_(t,255)),r.parent[r.offset+e]=t},c.prototype.writeUInt16LE=function(t,e,n){b(this,t,e,!1,n)},c.prototype.writeUInt16BE=function(t,e,n){b(this,t,e,!0,n)},c.prototype.writeUInt32LE=function(t,e,n){k(this,t,e,!1,n)},c.prototype.writeUInt32BE=function(t,e,n){k(this,t,e,!0,n)},c.prototype.writeInt8=function(t,e,n){var r=this;n||(j.ok(void 0!==t&&null!==t,"missing value"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e<r.length,"Trying to write beyond buffer length"),E(t,127,-128)),t>=0?r.writeUInt8(t,e,n):r.writeUInt8(255+t+1,e,n)},c.prototype.writeInt16LE=function(t,e,n){A(this,t,e,!1,n)},c.prototype.writeInt16BE=function(t,e,n){A(this,t,e,!0,n)},c.prototype.writeInt32LE=function(t,e,n){I(this,t,e,!1,n)},c.prototype.writeInt32BE=function(t,e,n){I(this,t,e,!0,n)},c.prototype.writeFloatLE=function(t,e,n){S(this,t,e,!1,n)},c.prototype.writeFloatBE=function(t,e,n){S(this,t,e,!0,n)},c.prototype.writeDoubleLE=function(t,e,n){O(this,t,e,!1,n)},c.prototype.writeDoubleBE=function(t,e,n){O(this,t,e,!0,n)},r.prototype.readUInt8=c.prototype.readUInt8,r.prototype.readUInt16LE=c.prototype.readUInt16LE,r.prototype.readUInt16BE=c.prototype.readUInt16BE,r.prototype.readUInt32LE=c.prototype.readUInt32LE,r.prototype.readUInt32BE=c.prototype.readUInt32BE,r.prototype.readInt8=c.prototype.readInt8,r.prototype.readInt16LE=c.prototype.readInt16LE,r.prototype.readInt16BE=c.prototype.readInt16BE,r.prototype.readInt32LE=c.prototype.readInt32LE,r.prototype.readInt32BE=c.prototype.readInt32BE,r.prototype.readFloatLE=c.prototype.readFloatLE,r.prototype.readFloatBE=c.prototype.readFloatBE,r.prototype.readDoubleLE=c.prototype.readDoubleLE,r.prototype.readDoubleBE=c.prototype.readDoubleBE,r.prototype.writeUInt8=c.prototype.writeUInt8,r.prototype.writeUInt16LE=c.prototype.writeUInt16LE,r.prototype.writeUInt16BE=c.prototype.writeUInt16BE,r.prototype.writeUInt32LE=c.prototype.writeUInt32LE,r.prototype.writeUInt32BE=c.prototype.writeUInt32BE,r.prototype.writeInt8=c.prototype.writeInt8,r.prototype.writeInt16LE=c.prototype.writeInt16LE,r.prototype.writeInt16BE=c.prototype.writeInt16BE,r.prototype.writeInt32LE=c.prototype.writeInt32LE,r.prototype.writeInt32BE=c.prototype.writeInt32BE,r.prototype.writeFloatLE=c.prototype.writeFloatLE,r.prototype.writeFloatBE=c.prototype.writeFloatBE,r.prototype.writeDoubleLE=c.prototype.writeDoubleLE,r.prototype.writeDoubleBE=c.prototype.writeDoubleBE},{assert:1,"./buffer_ieee754":8,"base64-js":9}],9:[function(t,e){!function(){"use strict";function t(t){var e,n,i,o,s,a;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(s=t.indexOf("="),s=s>0?t.length-s:0,a=[],i=s>0?t.length-4:t.length,e=0,n=0;i>e;e+=4,n+=3)o=r.indexOf(t[e])<<18|r.indexOf(t[e+1])<<12|r.indexOf(t[e+2])<<6|r.indexOf(t[e+3]),a.push((16711680&o)>>16),a.push((65280&o)>>8),a.push(255&o);return 2===s?(o=r.indexOf(t[e])<<2|r.indexOf(t[e+1])>>4,a.push(255&o)):1===s&&(o=r.indexOf(t[e])<<10|r.indexOf(t[e+1])<<4|r.indexOf(t[e+2])>>2,a.push(255&o>>8),a.push(255&o)),a}function n(t){function e(t){return r[63&t>>18]+r[63&t>>12]+r[63&t>>6]+r[63&t]}var n,i,o,s=t.length%3,a="";for(n=0,o=t.length-s;o>n;n+=3)i=(t[n]<<16)+(t[n+1]<<8)+t[n+2],a+=e(i);switch(s){case 1:i=t[t.length-1],a+=r[i>>2],a+=r[63&i<<4],a+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],a+=r[i>>10],a+=r[63&i>>4],a+=r[63&i<<2],a+="="}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=n}()},{}]},{},[]),e.exports=t("buffer-browserify")},{}],4:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],5:[function(t,e){function n(t,e,n){this.db=t,this.query=e||{},n&&(this.execFn=n)}var r=t("./model");n.prototype.limit=function(t){return this._limit=t,this},n.prototype.skip=function(t){return this._skip=t,this},n.prototype.group=function(t){return this._group=t,this},n.prototype.sort=function(t){return this._sort=t,this},n.prototype._exec=function(t){var e,n,i,o=this.db.getCandidates(this.query),s=[],a=0,u=0,h=this;try{for(e=0;e<o.length;e+=1)if(r.match(o[e],this.query))if(this._sort||this._group)s.push(o[e]);else if(this._skip&&this._skip>u)u+=1;else if(s.push(o[e]),a+=1,this._limit&&this._limit<=a)break}catch(f){return t(f)}if(this._group)try{s=r.aggregate(s,this._group)}catch(f){return t(f)}if(this._sort)for(n=Object.keys(this._sort),e=n.length-1;e>=0;e-=1)i=n[e],s.sort(function(t,e){return h._sort[i]*r.compareThings(r.getDotValue(t,i),r.getDotValue(e,i))});if(this._sort||this._group){var c=this._limit||s.length,l=this._skip||0;s=s.slice(l,l+c)}return this.execFn?this.execFn(null,s,t):t(null,s)},n.prototype.exec=function(){this.db.executor.push({"this":this,fn:this._exec,arguments:arguments})},e.exports=n},{"./model":10}],6:[function(t,e){function n(t){for(var e,e,n=new Array(t),r=0;t>r;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=255&e>>>((3&r)<<3);return n}function r(t){function e(t){return o[63&t>>18]+o[63&t>>12]+o[63&t>>6]+o[63&t]}var n,r,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=t.length%3,a="";for(i=0,r=t.length-s;r>i;i+=3)n=(t[i]<<16)+(t[i+1]<<8)+t[i+2],a+=e(n);switch(s){case 1:n=t[t.length-1],a+=o[n>>2],a+=o[63&n<<4],a+="==";break;case 2:n=(t[t.length-2]<<8)+t[t.length-1],a+=o[n>>10],a+=o[63&n>>4],a+=o[63&n<<2],a+="="}return a}function i(t){return r(n(Math.ceil(Math.max(8,2*t)))).replace(/[+\/]/g,"").slice(0,t)}e.exports.uid=i},{}],7:[function(t,e){function n(t){var e;"string"==typeof t?(e=t,this.inMemoryOnly=!1):(t=t||{},e=t.filename,this.inMemoryOnly=t.inMemoryOnly||!1,this.autoload=t.autoload||!1),e&&"string"==typeof e&&0!==e.length?this.filename=e:(this.filename=null,this.inMemoryOnly=!0),this.persistence=new f({db:this,nodeWebkitAppName:t.nodeWebkitAppName}),this.executor=new s,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new a({fieldName:"_id",unique:!0}),this.autoload&&this.loadDatabase(t.onload||function(t){if(t)throw t})}var r=t("./customUtils"),i=t("./model"),o=t("async"),s=t("./executor"),a=t("./indexes"),u=t("util"),h=t("underscore"),f=t("./persistence"),c=t("./cursor");n.prototype.loadDatabase=function(){this.executor.push({"this":this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},n.prototype.getAllData=function(){return this.indexes._id.getAll()},n.prototype.resetIndexes=function(t){var e=this;Object.keys(this.indexes).forEach(function(n){e.indexes[n].reset(t)})},n.prototype.ensureIndex=function(t,e){var n=e||function(){};if(t=t||{},!t.fieldName)return n({missingFieldName:!0});if(this.indexes[t.fieldName])return n(null);this.indexes[t.fieldName]=new a(t);try{this.indexes[t.fieldName].insert(this.getAllData())}catch(r){return delete this.indexes[t.fieldName],n(r)}this.persistence.persistNewState([{$$indexCreated:t}],function(t){return t?n(t):n(null)})},n.prototype.removeIndex=function(t,e){var n=e||function(){};delete this.indexes[t],this.persistence.persistNewState([{$$indexRemoved:t}],function(t){return t?n(t):n(null)})},n.prototype.addToIndexes=function(t){var e,n,r,i=Object.keys(this.indexes);for(e=0;e<i.length;e+=1)try{this.indexes[i[e]].insert(t)}catch(o){n=e,r=o;break}if(r){for(e=0;n>e;e+=1)this.indexes[i[e]].remove(t);throw r}},n.prototype.removeFromIndexes=function(t){var e=this;Object.keys(this.indexes).forEach(function(n){e.indexes[n].remove(t)})},n.prototype.updateIndexes=function(t,e){var n,r,i,o=Object.keys(this.indexes);for(n=0;n<o.length;n+=1)try{this.indexes[o[n]].update(t,e)}catch(s){r=n,i=s;break}if(i){for(n=0;r>n;n+=1)this.indexes[o[n]].revertUpdate(t,e);throw i}},n.prototype.getCandidates=function(t){var e,n=Object.keys(this.indexes);return e=[],Object.keys(t).forEach(function(n){("string"==typeof t[n]||"number"==typeof t[n]||"boolean"==typeof t[n]||u.isDate(t[n])||null===t[n])&&e.push(n)}),e=h.intersection(e,n),e.length>0?this.indexes[e[0]].getMatching(t[e[0]]):(e=[],Object.keys(t).forEach(function(n){t[n]&&t[n].hasOwnProperty("$in")&&e.push(n)}),e=h.intersection(e,n),e.length>0?this.indexes[e[0]].getMatching(t[e[0]].$in):(e=[],Object.keys(t).forEach(function(n){t[n]&&(t[n].hasOwnProperty("$lt")||t[n].hasOwnProperty("$lte")||t[n].hasOwnProperty("$gt")||t[n].hasOwnProperty("$gte"))&&e.push(n)}),e=h.intersection(e,n),e.length>0?this.indexes[e[0]].getBetweenBounds(t[e[0]]):this.getAllData()))},n.prototype._insert=function(t,e){var n=e||function(){};try{this._insertInCache(t)}catch(r){return n(r)}this.persistence.persistNewState(u.isArray(t)?t:[t],function(e){return e?n(e):n(null,t)})},n.prototype.prepareDocumentForInsertion=function(t){var e,n=this;return u.isArray(t)?(e=[],t.forEach(function(t){e.push(n.prepareDocumentForInsertion(t))})):(t._id=r.uid(16),e=i.deepCopy(t),i.checkObject(e)),e},n.prototype._insertInCache=function(t){u.isArray(t)?this._insertMultipleDocsInCache(t):this.addToIndexes(this.prepareDocumentForInsertion(t))},n.prototype._insertMultipleDocsInCache=function(t){var e,n,r,i=this.prepareDocumentForInsertion(t);for(e=0;e<i.length;e+=1)try{this.addToIndexes(i[e])}catch(o){r=o,n=e;break}if(r){for(e=0;n>e;e+=1)this.removeFromIndexes(i[e]);throw r}},n.prototype.insert=function(){this.executor.push({"this":this,fn:this._insert,arguments:arguments})},n.prototype.count=function(t,e){var n=new c(this,t,function(t,e,n){return t?n(t):n(null,e.length)});return"function"!=typeof e?n:(n.exec(e),void 0)},n.prototype.find=function(t,e){var n=new c(this,t,function(t,e,n){var r,o=[];if(t)return n(t);for(r=0;r<e.length;r+=1)o.push(i.deepCopy(e[r]));return n(null,o)});return"function"!=typeof e?n:(n.exec(e),void 0)},n.prototype.findOne=function(t,e){var n=new c(this,t,function(t,e,n){return t?n(t):1===e.length?n(null,i.deepCopy(e[0])):n(null,null)});return n.limit(1),"function"!=typeof e?n:(n.exec(e),void 0)},n.prototype._update=function(t,e,n,r){var s,a,u,f,l=this,p=0;"function"==typeof n&&(r=n,n={}),s=r||function(){},a=void 0!==n.multi?n.multi:!1,u=void 0!==n.upsert?n.upsert:!1,o.waterfall([function(n){if(!u)return n();var r=new c(l,t);r.limit(1)._exec(function(r,o){return r?s(r):1===o.length?n():l._insert(i.modify(t,e),function(t,e){return t?s(t):s(null,1,e)})})},function(){var n,r=l.getCandidates(t),o=[];try{for(f=0;f<r.length;f+=1)i.match(r[f],t)&&(a||0===p)&&(p+=1,n=i.modify(r[f],e),o.push({oldDoc:r[f],newDoc:n}))}catch(u){return s(u)}try{l.updateIndexes(o)}catch(u){return s(u)}l.persistence.persistNewState(h.pluck(o,"newDoc"),function(t){return t?s(t):s(null,p)})}])},n.prototype.update=function(){this.executor.push({"this":this,fn:this._update,arguments:arguments})},n.prototype._remove=function(t,e,n){var r,o,s=this,a=0,u=[],h=this.getCandidates(t);"function"==typeof e&&(n=e,e={}),r=n||function(){},o=void 0!==e.multi?e.multi:!1;try{h.forEach(function(e){i.match(e,t)&&(o||0===a)&&(a+=1,u.push({$$deleted:!0,_id:e._id}),s.removeFromIndexes(e))})}catch(f){return r(f)}s.persistence.persistNewState(u,function(t){return t?r(t):r(null,a)})},n.prototype.remove=function(){this.executor.push({"this":this,fn:this._remove,arguments:arguments})},e.exports=n},{"./cursor":5,"./customUtils":6,"./executor":8,"./indexes":9,"./model":10,"./persistence":11,async:12,underscore:17,util:2}],8:[function(t,e){function n(){this.buffer=[],this.ready=!1,this.queue=i.queue(function(t,e){var n,i,o=t.arguments[t.arguments.length-1],s=[];for(i=0;i<t.arguments.length;i+=1)s.push(t.arguments[i]);"function"==typeof o?(n=function(){r.nextTick(e),o.apply(null,arguments)},s[s.length-1]=n):(n=function(){e()},s.push(n)),t.fn.apply(t.this,s)
},1)}var r=t("__browserify_process"),i=t("async");n.prototype.push=function(t,e){this.ready||e?this.queue.push(t):this.buffer.push(t)},n.prototype.processBuffer=function(){var t;for(this.ready=!0,t=0;t<this.buffer.length;t+=1)this.queue.push(this.buffer[t]);this.buffer=[]},e.exports=n},{__browserify_process:4,async:12}],9:[function(t,e){function n(t,e){return t===e}function r(t){return null===t?"$null":"string"==typeof t?"$string"+t:"boolean"==typeof t?"$boolean"+t:"number"==typeof t?"$number"+t:h.isArray(t)?"$date"+t.getTime():t}function i(t){this.fieldName=t.fieldName,this.unique=t.unique||!1,this.sparse=t.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:a.compareThings,checkValueEquality:n},this.reset()}function o(t,e){var n;for(n=0;n<e.length;n+=1)t.push(e[n])}var s=t("binary-search-tree").AVLTree,a=t("./model"),u=t("underscore"),h=t("util");i.prototype.reset=function(t){this.tree=new s(this.treeOptions),t&&this.insert(t)},i.prototype.insert=function(t){var e,n,i,o,s;if(h.isArray(t))return this.insertMultipleDocs(t),void 0;if(e=a.getDotValue(t,this.fieldName),void 0!==e||!this.sparse)if(h.isArray(e)){for(n=u.uniq(e,r),i=0;i<n.length;i+=1)try{this.tree.insert(n[i],t)}catch(f){s=f,o=i;break}if(s){for(i=0;o>i;i+=1)this.tree.delete(n[i],t);throw s}}else this.tree.insert(e,t)},i.prototype.insertMultipleDocs=function(t){var e,n,r;for(e=0;e<t.length;e+=1)try{this.insert(t[e])}catch(i){n=i,r=e;break}if(n){for(e=0;r>e;e+=1)this.remove(t[e]);throw n}},i.prototype.remove=function(t){var e,n=this;return h.isArray(t)?(t.forEach(function(t){n.remove(t)}),void 0):(e=a.getDotValue(t,this.fieldName),void 0===e&&this.sparse||(h.isArray(e)?u.uniq(e,r).forEach(function(e){n.tree.delete(e,t)}):this.tree.delete(e,t)),void 0)},i.prototype.update=function(t,e){if(h.isArray(t))return this.updateMultipleDocs(t),void 0;this.remove(t);try{this.insert(e)}catch(n){throw this.insert(t),n}},i.prototype.updateMultipleDocs=function(t){var e,n,r;for(e=0;e<t.length;e+=1)this.remove(t[e].oldDoc);for(e=0;e<t.length;e+=1)try{this.insert(t[e].newDoc)}catch(i){r=i,n=e;break}if(r){for(e=0;n>e;e+=1)this.remove(t[e].newDoc);for(e=0;e<t.length;e+=1)this.insert(t[e].oldDoc);throw r}},i.prototype.revertUpdate=function(t,e){var n=[];h.isArray(t)?(t.forEach(function(t){n.push({oldDoc:t.newDoc,newDoc:t.oldDoc})}),this.update(n)):this.update(e,t)},i.prototype.getMatching=function(t){var e,n=this;return h.isArray(t)?(e=[],t.forEach(function(t){o(e,n.getMatching(t))}),e):this.tree.search(t)},i.prototype.getBetweenBounds=function(t){return this.tree.betweenBounds(t)},i.prototype.getAll=function(){var t=[];return this.tree.executeOnEveryNode(function(e){var n;for(n=0;n<e.data.length;n+=1)t.push(e.data[n])}),t},e.exports=i},{"./model":10,"binary-search-tree":13,underscore:17,util:2}],10:[function(t,e){function n(t,e){if(!("$"!==t[0]||"$$date"===t&&"number"==typeof e||"$$deleted"===t&&e===!0||"$$indexCreated"===t||"$$indexRemoved"===t))throw"Field names cannot begin with the $ character";if(-1!==t.indexOf("."))throw"Field names cannot contain a ."}function r(t){b.isArray(t)&&t.forEach(function(t){r(t)}),"object"==typeof t&&null!==t&&Object.keys(t).forEach(function(e){n(e,t[e]),r(t[e])})}function i(t){var e;return Date.prototype.toJSON=w,e=JSON.stringify(t,function(t,e){return n(t,e),void 0===typeof e?null:"string"==typeof e||"number"==typeof e||"boolean"==typeof e||null===e?e:e}),Date.prototype.toJSON=_,e}function o(t){return JSON.parse(t,function(t,e){return"$$date"===t?new Date(e):"string"==typeof e||"number"==typeof e||"boolean"==typeof e||null===e?e:e&&e.$$date?e.$$date:e})}function s(t){var e;return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||null===t||b.isDate(t)?t:b.isArray(t)?(e=[],t.forEach(function(t){e.push(t)}),e):"object"==typeof t?(e={},Object.keys(t).forEach(function(n){e[n]=s(t[n])}),e):void 0}function a(t){return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||null===t||b.isDate(t)||b.isArray(t)}function u(t,e){return e>t?-1:t>e?1:0}function h(t,e){var n,r;for(n=0;n<Math.min(t.length,e.length);n+=1)if(r=f(t[n],e[n]),0!==r)return r;return u(t.length,e.length)}function f(t,e){var n,r,i,o;if(void 0===t)return void 0===e?0:-1;if(void 0===e)return void 0===t?0:1;if(null===t)return null===e?0:-1;if(null===e)return null===t?0:1;if("number"==typeof t)return"number"==typeof e?u(t,e):-1;if("number"==typeof e)return"number"==typeof t?u(t,e):1;if("string"==typeof t)return"string"==typeof e?u(t,e):-1;if("string"==typeof e)return"string"==typeof t?u(t,e):1;if("boolean"==typeof t)return"boolean"==typeof e?u(t,e):-1;if("boolean"==typeof e)return"boolean"==typeof t?u(t,e):1;if(b.isDate(t))return b.isDate(e)?u(t.getTime(),e.getTime()):-1;if(b.isDate(e))return b.isDate(t)?u(t.getTime(),e.getTime()):1;if(b.isArray(t))return b.isArray(e)?h(t,e):-1;if(b.isArray(e))return b.isArray(t)?h(t,e):1;for(n=Object.keys(t).sort(),r=Object.keys(e).sort(),o=0;o<Math.min(n.length,r.length);o+=1)if(i=f(t[n[o]],e[r[o]]),0!==i)return i;return u(n.length,r.length)}function c(t){return function(e,n,r){var i="string"==typeof n?n.split("."):n;1===i.length?A[t](e,n,r):(e[i[0]]=e[i[0]]||{},x[t](e[i[0]],i.slice(1),r))}}function l(t,e){var n,i,o=Object.keys(e),a=k.map(o,function(t){return t[0]}),u=k.filter(a,function(t){return"$"===t});if(-1!==o.indexOf("_id")&&e._id!==t._id)throw"You cannot change a document's _id";if(0!==u.length&&u.length!==a.length)throw"You cannot mix modifiers and normal fields";if(0===u.length?(n=s(e),n._id=t._id):(i=k.uniq(o),n=s(t),i.forEach(function(t){var r;if(!x[t])throw"Unknown modifier "+t;try{r=Object.keys(e[t])}catch(i){throw"Modifier "+t+"'s argument must be an object"}r.forEach(function(r){x[t](n,r,e[t][r])})})),r(n),t._id!==n._id)throw"You can't change a document's _id";return n}function p(t,e){var n,r,i="string"==typeof e?e.split("."):e;if(!t)return void 0;if(0===i.length)return t;if(1===i.length)return t[i[0]];if(b.isArray(t[i[0]])){if(n=parseInt(i[1],10),"number"==typeof n&&!isNaN(n))return p(t[i[0]][n],i.slice(2));for(r=new Array,n=0;n<t[i[0]].length;n+=1)r.push(p(t[i[0]][n],i.slice(1)));return r}return p(t[i[0]],i.slice(1))}function y(t,e){var n,r,i;if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e)return t===e;if(b.isDate(t)||b.isDate(e))return b.isDate(t)&&b.isDate(e)&&t.getTime()===e.getTime();if(b.isArray(t)||b.isArray(e)||void 0===t||void 0===e)return!1;try{n=Object.keys(t),r=Object.keys(e)}catch(o){return!1}if(n.length!==r.length)return!1;for(i=0;i<n.length;i+=1){if(-1===r.indexOf(n[i]))return!1;if(!y(t[n[i]],e[n[i]]))return!1}return!0}function g(t,e){return"string"==typeof t||"number"==typeof t||b.isDate(t)||"string"==typeof e||"number"==typeof e||b.isDate(e)?typeof t!=typeof e?!1:!0:!1}function d(t,e){var n,r,i,o;if(a(t)||a(e))return v({needAKey:t},"needAKey",e);for(n=Object.keys(e),o=0;o<n.length;o+=1)if(r=n[o],i=e[r],"$"===r[0]){if(!S[r])throw"Unknown logical operator "+r;if(!S[r](t,i))return!1}else if(!v(t,r,i))return!1;return!0}function v(t,e,n,r){var i,o,s,a,u=p(t,e);if(b.isArray(u)&&!r){if(null!==n&&"object"==typeof n&&!b.isRegExp(n))for(o=Object.keys(n),i=0;i<o.length;i+=1)if(O[o[i]])return v(t,e,n,!0);for(i=0;i<u.length;i+=1)if(v({k:u[i]},"k",n))return!0;return!1}if(null!==n&&"object"==typeof n&&!b.isRegExp(n)){if(o=Object.keys(n),s=k.map(o,function(t){return t[0]}),a=k.filter(s,function(t){return"$"===t}),0!==a.length&&a.length!==s.length)throw"You cannot mix operators and normal fields";if(a.length>0){for(i=0;i<o.length;i+=1){if(!I[o[i]])throw"Unknown comparison function "+o[i];if(!I[o[i]](u,n[o[i]]))return!1}return!0}}return b.isRegExp(n)?I.$regex(u,n):y(u,n)?!0:!1}function m(t,e){function n(t,e){try{for(u=0;u<e.length;++u)t=t[e[u]],u===e.length-1&&(p=!a(t)||b.isArray(t)?E(JSON.stringify(t),3405691582).toString(16):t)}catch(n){p="NULL"}return v[p]=t,p}function r(t,n,o){if(n===m.length){for(e.finalize&&e.finalize(t),c={},i=0;i<o.length;++i)c[d[i]]=v[o[i]];for(l=Object.keys(t),i=0;i<l.length;++i)c[l[i]]=t[l[i]];g.push(c)}else for(var s in t)r(t[s],n+1,o.concat([s]))}var i,o,u,h,f,c,l,p,y={},g=[],d=[],v={},m=null;if(!k.isFunction(e.reduce))throw new Error("A reduce function must be provided.");if(!e.initial)throw new Error("An initial vector must be provided.");if(e.finalize&&!k.isFunction(e.finalize))throw new Error("'finalize', if provided, must be a function.");if(e.key){if(m=k.filter(k.keys(e.key),function(t){return e.key[t]}),k.isEmpty(m))throw new Error("At least one key should be enabled.");for(i=0;i<m.length;++i)d.push(m[i].replace(/\./g,"_")),m[i]=m[i].split(".")}if(m){for(i=0;i<t.length;++i)for(h=y,o=0;o<m.length;++o)f=n(t[i],m[o]),h[f]||(h[f]=o===m.length-1?s(e.initial):{}),o===m.length-1&&e.reduce(t[i],h[f]),h=h[f];console.dir(y),r(y,0,[])}else g=[k.reduce(t,function(t,n){return e.reduce(n,t),t},s(e.initial))],e.finalize(g[0]);return g}var w=function(){return{$$date:this.getTime()}},_=Date.prototype.toJSON,b=t("util"),k=t("underscore"),E=t("xxhashjs"),x={},A={},I={},S={},O={};A.$set=function(t,e,n){t[e]=n},A.$unset=function(t,e){delete t[e]},A.$push=function(t,e,n){if(t.hasOwnProperty(e)||(t[e]=[]),!b.isArray(t[e]))throw"Can't $push an element on non-array values";if(null!==n&&"object"==typeof n&&n.$each){if(Object.keys(n).length>1)throw"Can't use another field in conjunction with $each";if(!b.isArray(n.$each))throw"$each requires an array value";n.$each.forEach(function(n){t[e].push(n)})}else t[e].push(n)},A.$addToSet=function(t,e,n){var r=!0;if(t.hasOwnProperty(e)||(t[e]=[]),!b.isArray(t[e]))throw"Can't $addToSet an element on non-array values";if(null!==n&&"object"==typeof n&&n.$each){if(Object.keys(n).length>1)throw"Can't use another field in conjunction with $each";if(!b.isArray(n.$each))throw"$each requires an array value";n.$each.forEach(function(n){A.$addToSet(t,e,n)})}else t[e].forEach(function(t){0===f(t,n)&&(r=!1)}),r&&t[e].push(n)},A.$pop=function(t,e,n){if(!b.isArray(t[e]))throw"Can't $pop an element from non-array values";if("number"!=typeof n)throw n+" isn't an integer, can't use it with $pop";0!==n&&(t[e]=n>0?t[e].slice(0,t[e].length-1):t[e].slice(1))},A.$pull=function(t,e,n){var r,i;if(!b.isArray(t[e]))throw"Can't $pull an element from non-array values";for(r=t[e],i=r.length-1;i>=0;i-=1)d(r[i],n)&&r.splice(i,1)},A.$inc=function(t,e,n){if("number"!=typeof n)throw n+" must be a number";if("number"!=typeof t[e]){if(k.has(t,e))throw"Don't use the $inc modifier on non-number fields";t[e]=n}else t[e]+=n},Object.keys(A).forEach(function(t){x[t]=c(t)}),I.$lt=function(t,e){return g(t,e)&&e>t},I.$lte=function(t,e){return g(t,e)&&e>=t},I.$gt=function(t,e){return g(t,e)&&t>e},I.$gte=function(t,e){return g(t,e)&&t>=e},I.$ne=function(t,e){return t?!y(t,e):!0},I.$in=function(t,e){var n;if(!b.isArray(e))throw"$in operator called with a non-array";for(n=0;n<e.length;n+=1)if(y(t,e[n]))return!0;return!1},I.$nin=function(t,e){if(!b.isArray(e))throw"$nin operator called with a non-array";return!I.$in(t,e)},I.$regex=function(t,e){if(!b.isRegExp(e))throw"$regex operator called with non regular expression";return"string"!=typeof t?!1:e.test(t)},I.$exists=function(t,e){return e=e||""===e?!0:!1,void 0===t?!e:e},I.$size=function(t,e){if(!b.isArray(t))return!1;if(0!==e%1)throw"$size operator called without an integer";return t.length==e},O.$size=!0,S.$or=function(t,e){var n;if(!b.isArray(e))throw"$or operator used without an array";for(n=0;n<e.length;n+=1)if(d(t,e[n]))return!0;return!1},S.$and=function(t,e){var n;if(!b.isArray(e))throw"$and operator used without an array";for(n=0;n<e.length;n+=1)if(!d(t,e[n]))return!1;return!0},S.$not=function(t,e){return!d(t,e)},S.$where=function(t,e){var n;if(!k.isFunction(e))throw"$where operator used without a function";if(n=e.call(t),!k.isBoolean(n))throw"$where function must return boolean";return n},e.exports.serialize=i,e.exports.deserialize=o,e.exports.deepCopy=s,e.exports.checkObject=r,e.exports.isPrimitiveType=a,e.exports.modify=l,e.exports.getDotValue=p,e.exports.match=d,e.exports.areThingsEqual=y,e.exports.compareThings=f,e.exports.aggregate=m},{underscore:17,util:2,xxhashjs:21}],11:[function(t,e){function n(t){this.db=t.db,this.db.inMemoryOnly=!0,this.db.filename=null,this.inMemoryOnly=!0}n.prototype.persistNewState=function(t,e){return e?e():void 0},n.prototype.loadDatabase=function(t){return t?t():void 0},e.exports=n},{}],12:[function(e,n){var r=e("__browserify_process");!function(){function e(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(i,arguments)}}var i,o,s={};i=this,null!=i&&(o=i.async),s.noConflict=function(){return i.async=o,s};var a=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},u=function(t,e){if(t.map)return t.map(e);var n=[];return a(t,function(t,r,i){n.push(e(t,r,i))}),n},h=function(t,e,n){return t.reduce?t.reduce(e,n):(a(t,function(t,r,i){n=e(n,t,r,i)}),n)},f=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof r&&r.nextTick?(s.nextTick=r.nextTick,s.setImmediate="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,n,r){if(r=r||function(){},!t.length)return r();var i=0;a(t,function(o){n(o,e(function(e){e?(r(e),r=function(){}):(i+=1,i>=t.length&&r(null))}))})},s.forEach=s.each,s.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0,i=function(){e(t[r],function(e){e?(n(e),n=function(){}):(r+=1,r>=t.length?n(null):i())})};i()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,n,r){var i=c(e);i.apply(null,[t,n,r])},s.forEachLimit=s.eachLimit;var c=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,s=0;!function a(){if(i>=e.length)return r();for(;t>s&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(r(t),r=function(){}):(i+=1,s-=1,i>=e.length?r():a())})}()}},l=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},p=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[c(t)].concat(n))}},y=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},g=function(t,e,n,r){var i=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n,r){i[t.index]=r,e(n)})},function(t){r(t,i)})};s.map=l(g),s.mapSeries=y(g),s.mapLimit=function(t,e,n,r){return d(e)(t,n,r)};var d=function(t){return p(t,g)};s.reduce=function(t,e,n,r){s.eachSeries(t,function(t,r){n(e,t,function(t,n){e=n,r(t)})},function(t){r(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,n,r){var i=u(t,function(t){return t}).reverse();s.reduce(i,e,n,r)},s.foldr=s.reduceRight;var v=function(t,e,n,r){var i=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&i.push(t),e()})},function(){r(u(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=l(v),s.filterSeries=y(v),s.select=s.filter,s.selectSeries=s.filterSeries;var m=function(t,e,n,r){var i=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||i.push(t),e()})},function(){r(u(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=l(m),s.rejectSeries=y(m);var w=function(t,e,n,r){t(e,function(t,e){n(t,function(n){n?(r(t),r=function(){}):e()})},function(){r()})};s.detect=l(w),s.detectSeries=y(w),s.some=function(t,e,n){s.each(t,function(t,r){e(t,function(t){t&&(n(!0),n=function(){}),r()})},function(){n(!1)})},s.any=s.some,s.every=function(t,e,n){s.each(t,function(t,r){e(t,function(t){t||(n(!1),n=function(){}),r()})},function(){n(!0)})},s.all=s.every,s.sortBy=function(t,e,n){s.map(t,function(t,n){e(t,function(e,r){e?n(e):n(null,{value:t,criteria:r})})},function(t,e){if(t)return n(t);var r=function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0};n(null,u(e.sort(r),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var n=f(t);if(!n.length)return e(null);var r={},i=[],o=function(t){i.unshift(t)},u=function(t){for(var e=0;e<i.length;e+=1)if(i[e]===t)return i.splice(e,1),void 0},c=function(){a(i.slice(0),function(t){t()})};o(function(){f(r).length===n.length&&(e(null,r),e=function(){})}),a(n,function(n){var i=t[n]instanceof Function?[t[n]]:t[n],l=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};a(f(r),function(t){o[t]=r[t]}),o[n]=i,e(t,o),e=function(){}}else r[n]=i,s.setImmediate(c)},p=i.slice(0,Math.abs(i.length-1))||[],y=function(){return h(p,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(n)};if(y())i[i.length-1](l,r);else{var g=function(){y()&&(u(g),i[i.length-1](l,r))};o(g)}})},s.waterfall=function(t,e){if(e=e||function(){},t.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var r=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=t.next();o?i.push(r(o)):i.push(e),s.setImmediate(function(){t.apply(null,i)})}}};r(s.iterator(t))()};var _=function(t,e,n){if(n=n||function(){},e.constructor===Array)t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var r={};t.each(f(e),function(t,n){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)})},function(t){n(t,r)})}};s.parallel=function(t,e){_({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,n){_({map:d(e),each:c(e)},t,n)},s.series=function(t,e){if(e=e||function(){},t.constructor===Array)s.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};s.eachSeries(f(t),function(e,r){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)})},function(t){e(t,n)})}},s.iterator=function(t){var e=function(n){var r=function(){return t.length&&t[n].apply(null,arguments),r.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var b=function(t,e,n,r){var i=[];t(e,function(t,e){n(t,function(t,n){i=i.concat(n||[]),e(t)})},function(t){r(t,i)})};s.concat=l(b),s.concatSeries=y(b),s.whilst=function(t,e,n){t()?e(function(r){return r?n(r):(s.whilst(t,e,n),void 0)}):n()},s.doWhilst=function(t,e,n){t(function(r){return r?n(r):(e()?s.doWhilst(t,e,n):n(),void 0)})},s.until=function(t,e,n){t()?n():e(function(r){return r?n(r):(s.until(t,e,n),void 0)})},s.doUntil=function(t,e,n){t(function(r){return r?n(r):(e()?n():s.doUntil(t,e,n),void 0)})},s.queue=function(t,n){function r(t,e,r,i){e.constructor!==Array&&(e=[e]),a(e,function(e){var o={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(o):t.tasks.push(o),t.saturated&&t.tasks.length===n&&t.saturated(),s.setImmediate(t.process)})}void 0===n&&(n=1);var i=0,o={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(t,e){r(o,t,!1,e)},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(i<o.concurrency&&o.tasks.length){var n=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),i+=1;var r=function(){i-=1,n.callback&&n.callback.apply(n,arguments),o.drain&&0===o.tasks.length+i&&o.drain(),o.process()},s=e(r);t(n.data,s)}},length:function(){return o.tasks.length},running:function(){return i}};return o},s.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,push:function(t,n){t.constructor!==Array&&(t=[t]),a(t,function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.saturated&&r.length===e&&i.saturated()}),s.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&i.drain(),void 0;var s="number"==typeof e?r.splice(0,e):r.splice(0),h=u(s,function(t){return t.data});i.empty&&i.empty(),n=!0,t(h,function(){n=!1;var t=arguments;a(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var k=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&a(n,function(e){console[t](e)}))}]))}};s.log=k("log"),s.dir=k("dir"),s.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),s=e.apply(null,i);s in n?o.apply(null,n[s]):s in r?r[s].push(o):(r[s]=[o],t.apply(null,i.concat([function(){n[s]=arguments;var t=r[s];delete r[s];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return s.map(r,e,n)},s.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return s.mapSeries(r,e,n)},s.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();s.reduce(t,n,function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))},function(t,n){r.apply(e,[t].concat(n))})}};var E=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,function(t,e){t.apply(n,r.concat([e]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};s.applyEach=l(E),s.applyEachSeries=y(E),s.forever=function(t,e){function n(r){if(r){if(e)return e(r);throw r}t(n)}n()},"undefined"!=typeof t&&t.amd?t([],function(){return s}):"undefined"!=typeof n&&n.exports?n.exports=s:i.async=s}()},{__browserify_process:4}],13:[function(t,e){e.exports.BinarySearchTree=t("./lib/bst"),e.exports.AVLTree=t("./lib/avltree")},{"./lib/avltree":14,"./lib/bst":15}],14:[function(t,e){function n(t){this.tree=new r(t)}function r(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||o.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||o.defaultCheckValueEquality}var i=t("./bst"),o=t("./customUtils"),s=t("util");t("underscore"),s.inherits(r,i),n._AVLTree=r,r.prototype.checkHeightCorrect=function(){var t,e;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw"Undefined height for node "+this.left.key;if(this.right&&void 0===this.right.height)throw"Undefined height for node "+this.right.key;if(void 0===this.height)throw"Undefined height for node "+this.key;if(t=this.left?this.left.height:0,e=this.right?this.right.height:0,this.height!==1+Math.max(t,e))throw"Height constraint failed for node "+this.key;this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},r.prototype.balanceFactor=function(){var t=this.left?this.left.height:0,e=this.right?this.right.height:0;return t-e},r.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw"Tree is unbalanced at node "+this.key;this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},r.prototype.checkIsAVLT=function(){r.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},n.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},r.prototype.rightRotation=function(){var t,e,n,r,i=this,o=this.left;return o?(t=o.right,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,o.right=i,i.parent=o,i.left=t,t&&(t.parent=i),e=o.left?o.left.height:0,n=t?t.height:0,r=i.right?i.right.height:0,i.height=Math.max(n,r)+1,o.height=Math.max(e,i.height)+1,o):this},r.prototype.leftRotation=function(){var t,e,n,r,i=this,o=this.right;return o?(t=o.left,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,o.left=i,i.parent=o,i.right=t,t&&(t.parent=i),e=i.left?i.left.height:0,n=t?t.height:0,r=o.right?o.right.height:0,i.height=Math.max(e,n)+1,o.height=Math.max(r,i.height)+1,o):this},r.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},r.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},r.prototype.rebalanceAlongPath=function(t){var e,n,r=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(n=t.length-1;n>=0;n-=1)t[n].height=1+Math.max(t[n].left?t[n].left.height:0,t[n].right?t[n].right.height:0),t[n].balanceFactor()>1&&(e=t[n].rightTooSmall(),0===n&&(r=e)),t[n].balanceFactor()<-1&&(e=t[n].leftTooSmall(),0===n&&(r=e));return r},r.prototype.insert=function(t,e){var n=[],r=this;if(!this.hasOwnProperty("key"))return this.key=t,this.data.push(e),this.height=1,this;for(;;){if(0===r.compareKeys(r.key,t)){if(r.unique)throw{message:"Can't insert key "+t+", it violates the unique constraint",key:t,errorType:"uniqueViolated"};return r.data.push(e),this}if(n.push(r),r.compareKeys(t,r.key)<0){if(!r.left){n.push(r.createLeftChild({key:t,value:e}));break}r=r.left}else{if(!r.right){n.push(r.createRightChild({key:t,value:e}));break}r=r.right}}return this.rebalanceAlongPath(n)},n.prototype.insert=function(t,e){var n=this.tree.insert(t,e);n&&(this.tree=n)},r.prototype.delete=function(t,e){var n,r=[],i=this,o=[];if(!this.hasOwnProperty("key"))return this;for(;;){if(0===i.compareKeys(t,i.key))break;if(o.push(i),i.compareKeys(t,i.key)<0){if(!i.left)return this;i=i.left}else{if(!i.right)return this;i=i.right}}if(i.data.length>1&&e)return i.data.forEach(function(t){i.checkValueEquality(t,e)||r.push(t)}),i.data=r,this;if(!i.left&&!i.right)return i===this?(delete i.key,i.data=[],delete i.height,this):(i.parent.left===i?i.parent.left=null:i.parent.right=null,this.rebalanceAlongPath(o));if(!i.left||!i.right)return n=i.left?i.left:i.right,i===this?(n.parent=null,n):(i.parent.left===i?(i.parent.left=n,n.parent=i.parent):(i.parent.right=n,n.parent=i.parent),this.rebalanceAlongPath(o));if(o.push(i),n=i.left,!n.right)return i.key=n.key,i.data=n.data,i.left=n.left,n.left&&(n.left.parent=i),this.rebalanceAlongPath(o);for(;;){if(!n.right)break;o.push(n),n=n.right}return i.key=n.key,i.data=n.data,n.parent.right=n.left,n.left&&(n.left.parent=n.parent),this.rebalanceAlongPath(o)},n.prototype.delete=function(t,e){var n=this.tree.delete(t,e);n&&(this.tree=n)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach(function(t){n.prototype[t]=function(){return this.tree[t].apply(this.tree,arguments)}}),e.exports=n},{"./bst":15,"./customUtils":16,underscore:17,util:2}],15:[function(t,e){function n(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||i.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||i.defaultCheckValueEquality}function r(t,e){var n;for(n=0;n<e.length;n+=1)t.push(e[n])}var i=t("./customUtils");n.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},n.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},n.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},n.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},n.prototype.checkAllNodesFullfillCondition=function(t){this.hasOwnProperty("key")&&(t(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(t),this.right&&this.right.checkAllNodesFullfillCondition(t))},n.prototype.checkNodeOrdering=function(){var t=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition(function(e){if(t.compareKeys(e,t.key)>=0)throw"Tree with root "+t.key+" is not a binary search tree"}),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition(function(e){if(t.compareKeys(e,t.key)<=0)throw"Tree with root "+t.key+" is not a binary search tree"}),this.right.checkNodeOrdering()))},n.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw"Parent pointer broken for key "+this.key;this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw"Parent pointer broken for key "+this.key;this.right.checkInternalPointers()}},n.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw"The root shouldn't have a parent"},n.prototype.getNumberOfKeys=function(){var t;return this.hasOwnProperty("key")?(t=1,this.left&&(t+=this.left.getNumberOfKeys()),this.right&&(t+=this.right.getNumberOfKeys()),t):0},n.prototype.createSimilar=function(t){return t=t||{},t.unique=this.unique,t.compareKeys=this.compareKeys,t.checkValueEquality=this.checkValueEquality,new this.constructor(t)},n.prototype.createLeftChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.left=e,e},n.prototype.createRightChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.right=e,e},n.prototype.insert=function(t,e){if(!this.hasOwnProperty("key"))return this.key=t,this.data.push(e),void 0;if(0===this.compareKeys(this.key,t)){if(this.unique)throw{message:"Can't insert key "+t+", it violates the unique constraint",key:t,errorType:"uniqueViolated"};return this.data.push(e),void 0}this.compareKeys(t,this.key)<0?this.left?this.left.insert(t,e):this.createLeftChild({key:t,value:e}):this.right?this.right.insert(t,e):this.createRightChild({key:t,value:e})},n.prototype.search=function(t){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,t)?this.data:this.compareKeys(t,this.key)<0?this.left?this.left.search(t):[]:this.right?this.right.search(t):[]:[]},n.prototype.getLowerBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$gt")||t.hasOwnProperty("$gte")?t.hasOwnProperty("$gt")&&t.hasOwnProperty("$gte")?0===e.compareKeys(t.$gte,t.$gt)?function(n){return e.compareKeys(n,t.$gt)>0}:e.compareKeys(t.$gte,t.$gt)>0?function(n){return e.compareKeys(n,t.$gte)>=0}:function(n){return e.compareKeys(n,t.$gt)>0}:t.hasOwnProperty("$gt")?function(n){return e.compareKeys(n,t.$gt)>0}:function(n){return e.compareKeys(n,t.$gte)>=0}:function(){return!0}},n.prototype.getUpperBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$lt")||t.hasOwnProperty("$lte")?t.hasOwnProperty("$lt")&&t.hasOwnProperty("$lte")?0===e.compareKeys(t.$lte,t.$lt)?function(n){return e.compareKeys(n,t.$lt)<0}:e.compareKeys(t.$lte,t.$lt)<0?function(n){return e.compareKeys(n,t.$lte)<=0}:function(n){return e.compareKeys(n,t.$lt)<0}:t.hasOwnProperty("$lt")?function(n){return e.compareKeys(n,t.$lt)<0}:function(n){return e.compareKeys(n,t.$lte)<=0}:function(){return!0}},n.prototype.betweenBounds=function(t,e,n){var i=[];return this.hasOwnProperty("key")?(e=e||this.getLowerBoundMatcher(t),n=n||this.getUpperBoundMatcher(t),e(this.key)&&this.left&&r(i,this.left.betweenBounds(t,e,n)),e(this.key)&&n(this.key)&&r(i,this.data),n(this.key)&&this.right&&r(i,this.right.betweenBounds(t,e,n)),i):[]},n.prototype.deleteIfLeaf=function(){return this.left||this.right?!1:this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,!0):(delete this.key,this.data=[],!0)
},n.prototype.deleteIfOnlyOneChild=function(){var t;return this.left&&!this.right&&(t=this.left),!this.left&&this.right&&(t=this.right),t?this.parent?(this.parent.left===this?(this.parent.left=t,t.parent=this.parent):(this.parent.right=t,t.parent=this.parent),!0):(this.key=t.key,this.data=t.data,this.left=null,t.left&&(this.left=t.left,t.left.parent=this),this.right=null,t.right&&(this.right=t.right,t.right.parent=this),!0):!1},n.prototype.delete=function(t,e){var n,r=[],i=this;if(this.hasOwnProperty("key")){if(this.compareKeys(t,this.key)<0)return this.left&&this.left.delete(t,e),void 0;if(this.compareKeys(t,this.key)>0)return this.right&&this.right.delete(t,e),void 0;if(0!==!this.compareKeys(t,this.key))return this.data.length>1&&e?(this.data.forEach(function(t){i.checkValueEquality(t,e)||r.push(t)}),i.data=r,void 0):(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(n=this.left.getMaxKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.left=n.left,n.left&&(n.left.parent=n.parent)):(n.parent.right=n.left,n.left&&(n.left.parent=n.parent))):(n=this.right.getMinKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.right=n.right,n.right&&(n.right.parent=n.parent)):(n.parent.left=n.right,n.right&&(n.right.parent=n.parent)))),void 0)}},n.prototype.executeOnEveryNode=function(t){this.left&&this.left.executeOnEveryNode(t),t(this),this.right&&this.right.executeOnEveryNode(t)},n.prototype.prettyPrint=function(t,e){e=e||"",console.log(e+"* "+this.key),t&&console.log(e+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(t,e+"  "):console.log(e+"  *"),this.right?this.right.prettyPrint(t,e+"  "):console.log(e+"  *"))},e.exports=n},{"./customUtils":16}],16:[function(t,e){function n(t){var e,r;return 0===t?[]:1===t?[0]:(e=n(t-1),r=Math.floor(Math.random()*t),e.splice(r,0,t-1),e)}function r(t,e){if(e>t)return-1;if(t>e)return 1;if(t===e)return 0;throw{message:"Couldn't compare elements",a:t,b:e}}function i(t,e){return t===e}e.exports.getRandomArray=n,e.exports.defaultCompareKeysFunction=r,e.exports.defaultCheckValueEquality=i},{}],17:[function(t,e,n){!function(){var t=this,r=t._,i={},o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,h=o.slice,f=o.concat,c=s.toString,l=s.hasOwnProperty,p=o.forEach,y=o.map,g=o.reduce,d=o.reduceRight,v=o.filter,m=o.every,w=o.some,_=o.indexOf,b=o.lastIndexOf,k=Array.isArray,E=Object.keys,x=a.bind,A=function(t){return t instanceof A?t:this instanceof A?(this._wrapped=t,void 0):new A(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=A),n._=A):t._=A,A.VERSION="1.4.4";var I=A.each=A.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var s in t)if(A.has(t,s)&&e.call(n,t[s],s,t)===i)return};A.map=A.collect=function(t,e,n){var r=[];return null==t?r:y&&t.map===y?t.map(e,n):(I(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),r)};var S="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return r&&(e=A.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(I(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(S);return n},A.reduceRight=A.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(e=A.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=A.keys(t);o=s.length}if(I(t,function(a,u,h){u=s?s[--o]:--o,i?n=e.call(r,n,t[u],u,h):(n=t[u],i=!0)}),!i)throw new TypeError(S);return n},A.find=A.detect=function(t,e,n){var r;return O(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},A.filter=A.select=function(t,e,n){var r=[];return null==t?r:v&&t.filter===v?t.filter(e,n):(I(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},A.reject=function(t,e,n){return A.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},A.every=A.all=function(t,e,n){e||(e=A.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(I(t,function(t,o,s){return(r=r&&e.call(n,t,o,s))?void 0:i}),!!r)};var O=A.some=A.any=function(t,e,n){e||(e=A.identity);var r=!1;return null==t?r:w&&t.some===w?t.some(e,n):(I(t,function(t,o,s){return r||(r=e.call(n,t,o,s))?i:void 0}),!!r)};A.contains=A.include=function(t,e){return null==t?!1:_&&t.indexOf===_?-1!=t.indexOf(e):O(t,function(t){return t===e})},A.invoke=function(t,e){var n=h.call(arguments,2),r=A.isFunction(e);return A.map(t,function(t){return(r?e:t[e]).apply(t,n)})},A.pluck=function(t,e){return A.map(t,function(t){return t[e]})},A.where=function(t,e,n){return A.isEmpty(e)?n?null:[]:A[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},A.findWhere=function(t,e){return A.where(t,e,!0)},A.max=function(t,e,n){if(!e&&A.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&A.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return I(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s>=r.computed&&(r={value:t,computed:s})}),r.value},A.min=function(t,e,n){if(!e&&A.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&A.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return I(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s<r.computed&&(r={value:t,computed:s})}),r.value},A.shuffle=function(t){var e,n=0,r=[];return I(t,function(t){e=A.random(n++),r[n-1]=r[e],r[e]=t}),r};var j=function(t){return A.isFunction(t)?t:function(e){return e[t]}};A.sortBy=function(t,e,n){var r=j(e);return A.pluck(A.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var L=function(t,e,n,r){var i={},o=j(e||A.identity);return I(t,function(e,s){var a=o.call(n,e,s,t);r(i,a,e)}),i};A.groupBy=function(t,e,n){return L(t,e,n,function(t,e,n){(A.has(t,e)?t[e]:t[e]=[]).push(n)})},A.countBy=function(t,e,n){return L(t,e,n,function(t,e){A.has(t,e)||(t[e]=0),t[e]++})},A.sortedIndex=function(t,e,n,r){n=null==n?A.identity:j(n);for(var i=n.call(r,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},A.toArray=function(t){return t?A.isArray(t)?h.call(t):t.length===+t.length?A.map(t,A.identity):A.values(t):[]},A.size=function(t){return null==t?0:t.length===+t.length?t.length:A.keys(t).length},A.first=A.head=A.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:h.call(t,0,e)},A.initial=function(t,e,n){return h.call(t,0,t.length-(null==e||n?1:e))},A.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:h.call(t,Math.max(t.length-e,0))},A.rest=A.tail=A.drop=function(t,e,n){return h.call(t,null==e||n?1:e)},A.compact=function(t){return A.filter(t,A.identity)};var B=function(t,e,n){return I(t,function(t){A.isArray(t)?e?u.apply(n,t):B(t,e,n):n.push(t)}),n};A.flatten=function(t,e){return B(t,e,[])},A.without=function(t){return A.difference(t,h.call(arguments,1))},A.uniq=A.unique=function(t,e,n,r){A.isFunction(e)&&(r=n,n=e,e=!1);var i=n?A.map(t,n,r):t,o=[],s=[];return I(i,function(n,r){(e?r&&s[s.length-1]===n:A.contains(s,n))||(s.push(n),o.push(t[r]))}),o},A.union=function(){return A.uniq(f.apply(o,arguments))},A.intersection=function(t){var e=h.call(arguments,1);return A.filter(A.uniq(t),function(t){return A.every(e,function(e){return A.indexOf(e,t)>=0})})},A.difference=function(t){var e=f.apply(o,h.call(arguments,1));return A.filter(t,function(t){return!A.contains(e,t)})},A.zip=function(){for(var t=h.call(arguments),e=A.max(A.pluck(t,"length")),n=new Array(e),r=0;e>r;r++)n[r]=A.pluck(t,""+r);return n},A.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},A.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=A.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(_&&t.indexOf===_)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},A.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(b&&t.lastIndexOf===b)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},A.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o},A.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,h.call(arguments,1));var n=h.call(arguments,2);return function(){return t.apply(e,n.concat(h.call(arguments)))}},A.partial=function(t){var e=h.call(arguments,1);return function(){return t.apply(this,e.concat(h.call(arguments)))}},A.bindAll=function(t){var e=h.call(arguments,1);return 0===e.length&&(e=A.functions(t)),I(e,function(e){t[e]=A.bind(t[e],t)}),t},A.memoize=function(t,e){var n={};return e||(e=A.identity),function(){var r=e.apply(this,arguments);return A.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},A.delay=function(t,e){var n=h.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},A.defer=function(t){return A.delay.apply(A,[t,1].concat(h.call(arguments,1)))},A.throttle=function(t,e){var n,r,i,o,s=0,a=function(){s=new Date,i=null,o=t.apply(n,r)};return function(){var u=new Date,h=e-(u-s);return n=this,r=arguments,0>=h?(clearTimeout(i),i=null,s=u,o=t.apply(n,r)):i||(i=setTimeout(a,h)),o}},A.debounce=function(t,e,n){var r,i;return function(){var o=this,s=arguments,a=function(){r=null,n||(i=t.apply(o,s))},u=n&&!r;return clearTimeout(r),r=setTimeout(a,e),u&&(i=t.apply(o,s)),i}},A.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},A.wrap=function(t,e){return function(){var n=[t];return u.apply(n,arguments),e.apply(this,n)}},A.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},A.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},A.keys=E||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)A.has(t,n)&&(e[e.length]=n);return e},A.values=function(t){var e=[];for(var n in t)A.has(t,n)&&e.push(t[n]);return e},A.pairs=function(t){var e=[];for(var n in t)A.has(t,n)&&e.push([n,t[n]]);return e},A.invert=function(t){var e={};for(var n in t)A.has(t,n)&&(e[t[n]]=n);return e},A.functions=A.methods=function(t){var e=[];for(var n in t)A.isFunction(t[n])&&e.push(n);return e.sort()},A.extend=function(t){return I(h.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},A.pick=function(t){var e={},n=f.apply(o,h.call(arguments,1));return I(n,function(n){n in t&&(e[n]=t[n])}),e},A.omit=function(t){var e={},n=f.apply(o,h.call(arguments,1));for(var r in t)A.contains(n,r)||(e[r]=t[r]);return e},A.defaults=function(t){return I(h.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},A.clone=function(t){return A.isObject(t)?A.isArray(t)?t.slice():A.extend({},t):t},A.tap=function(t,e){return e(t),t};var C=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof A&&(t=t._wrapped),e instanceof A&&(e=e._wrapped);var i=c.call(t);if(i!=c.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;n.push(t),r.push(e);var s=0,a=!0;if("[object Array]"==i){if(s=t.length,a=s==e.length)for(;s--&&(a=C(t[s],e[s],n,r)););}else{var u=t.constructor,h=e.constructor;if(u!==h&&!(A.isFunction(u)&&u instanceof u&&A.isFunction(h)&&h instanceof h))return!1;for(var f in t)if(A.has(t,f)&&(s++,!(a=A.has(e,f)&&C(t[f],e[f],n,r))))break;if(a){for(f in e)if(A.has(e,f)&&!s--)break;a=!s}}return n.pop(),r.pop(),a};A.isEqual=function(t,e){return C(t,e,[],[])},A.isEmpty=function(t){if(null==t)return!0;if(A.isArray(t)||A.isString(t))return 0===t.length;for(var e in t)if(A.has(t,e))return!1;return!0},A.isElement=function(t){return!(!t||1!==t.nodeType)},A.isArray=k||function(t){return"[object Array]"==c.call(t)},A.isObject=function(t){return t===Object(t)},I(["Arguments","Function","String","Number","Date","RegExp"],function(t){A["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),A.isArguments(arguments)||(A.isArguments=function(t){return!(!t||!A.has(t,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(t){return"function"==typeof t}),A.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},A.isNaN=function(t){return A.isNumber(t)&&t!=+t},A.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},A.isNull=function(t){return null===t},A.isUndefined=function(t){return void 0===t},A.has=function(t,e){return l.call(t,e)},A.noConflict=function(){return t._=r,this},A.identity=function(t){return t},A.times=function(t,e,n){for(var r=Array(t),i=0;t>i;i++)r[i]=e.call(n,i);return r},A.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};T.unescape=A.invert(T.escape);var $={escape:new RegExp("["+A.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(T.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(t){A[t]=function(e){return null==e?"":(""+e).replace($[t],function(e){return T[t][e]})}}),A.result=function(t,e){if(null==t)return null;var n=t[e];return A.isFunction(n)?n.call(t):n},A.mixin=function(t){I(A.functions(t),function(e){var n=A[e]=t[e];A.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),F.call(this,n.apply(A,t))}})};var M=0;A.uniqueId=function(t){var e=++M+"";return t?t+e:e},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(t,e,n){var r;n=A.defaults({},n,A.templateSettings);var i=new RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(D,function(t){return"\\"+U[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return r(e,A);var u=function(t){return r.call(this,t,A)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},A.chain=function(t){return A(t).chain()};var F=function(t){return this._chain?A(t).chain():t};A.mixin(A),I(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];A.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],F.call(this,n)}}),I(["concat","join","slice"],function(t){var e=o[t];A.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this)},{}],18:[function(t,e,n){n.UINT32=t("./lib/uint32"),n.UINT64=t("./lib/uint64")},{"./lib/uint32":19,"./lib/uint64":20}],19:[function(e,n){!function(e){function r(t,e){return this instanceof r?(this._low=0,this._high=0,this.remainder=null,"undefined"==typeof e?o.call(this,t):"string"==typeof t?s.call(this,t,e):(i.call(this,t,e),void 0)):new r(t,e)}function i(t,e){return this._low=0|t,this._high=0|e,this}function o(t){return this._low=65535&t,this._high=t>>>16,this}function s(t,e){var n=parseInt(t,e||10);return this._low=65535&n,this._high=n>>>16,this}({36:r(Math.pow(36,5)),16:r(Math.pow(16,7)),10:r(Math.pow(10,9)),2:r(Math.pow(2,30))});var a={36:r(36),16:r(16),10:r(10),2:r(2)};r.prototype.fromBits=i,r.prototype.fromNumber=o,r.prototype.fromString=s,r.prototype.toNumber=function(){return this._high<<16|this._low},r.prototype.toString=function(t){t=t||10;var e=a[t]||new r(t);if(!this.gt(e))return this.toNumber().toString(t);for(var n=this.clone(),i=new Array(32),o=31;o>=0&&(n.div(e),i[o]=n.remainder.toNumber().toString(t),n.gt(e));o--);return i[o-1]=n.toNumber().toString(t),i.join("")},r.prototype.add=function(t){var e=this._low+t._low,n=e>>>16;return n+=this._high+t._high,this._low=65535&e,this._high=65535&n,this},r.prototype.subtract=function(t){return this.add(t.clone().negate())},r.prototype.multiply=function(t){var e,n,r=this._high,i=this._low,o=t._high,s=t._low;return n=i*s,e=n>>>16,e+=r*s,e&=65535,e+=i*o,this._low=65535&n,this._high=65535&e,this},r.prototype.div=function(t){if(0==t._low&&0==t._high)throw Error("division by zero");if(0==t._high&&1==t._low)return this.remainder=new r(0),this;if(t.gt(this))return this.remainder=new r(0),this._low=0,this._high=0,this;if(this.eq(t))return this.remainder=new r(0),this._low=1,this._high=0,this;for(var e=t.clone(),n=-1;!this.lt(e);)e.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._low=0,this._high=0;n>=0;n--)e.shiftRight(1),this.remainder.lt(e)||(this.remainder.subtract(e),n>=16?this._high|=1<<n-16:this._low|=1<<n);return this},r.prototype.negate=r.prototype.not=function(){var t=(65535&~this._low)+1;return this._low=65535&t,this._high=65535&~this._high+(t>>>16),this},r.prototype.equals=r.prototype.eq=function(t){return this._low==t._low&&this._high==t._high},r.prototype.greaterThan=r.prototype.gt=function(t){return this._high>t._high?!0:this._high<t._high?!1:this._low>t._low},r.prototype.lessThan=r.prototype.lt=function(t){return this._high<t._high?!0:this._high>t._high?!1:this._low<t._low},r.prototype.or=function(t){return this._low|=t._low,this._high|=t._high,this},r.prototype.and=function(t){return this._low&=t._low,this._high&=t._high,this},r.prototype.xor=function(t){return this._low^=t._low,this._high^=t._high,this},r.prototype.shiftRight=r.prototype.shiftr=function(t){return t>16?(this._low=this._high>>t-16,this._high=0):16==t?(this._low=this._high,this._high=0):(this._low=this._low>>t|65535&this._high<<16-t,this._high>>=t),this},r.prototype.shiftLeft=r.prototype.shiftl=function(t,e){return t>16?(this._high=this._low<<t-16,this._low=0,e||(this._high&=65535)):16==t?(this._high=this._low,this._low=0):(this._high=this._high<<t|this._low>>16-t,this._low=65535&this._low<<t,e||(this._high&=65535)),this},r.prototype.rotateLeft=r.prototype.rotl=function(t){var e=this._high<<16|this._low;return e=e<<t|e>>>32-t,this._low=65535&e,this._high=e>>>16,this},r.prototype.rotateRight=r.prototype.rotr=function(t){var e=this._high<<16|this._low;return e=e>>>t|e<<32-t,this._low=65535&e,this._high=e>>>16,this},r.prototype.clone=function(){return new r(this._low,this._high)},"undefined"!=typeof t&&t.amd?t([],function(){return r}):"undefined"!=typeof n&&n.exports?n.exports=r:e.UINT32=r}(this)},{}],20:[function(e,n){!function(e){function r(t,e,n,a){return this instanceof r?(this.remainder=null,"string"==typeof t?s.call(this,t,e):"undefined"==typeof e?o.call(this,t):(i.apply(this,arguments),void 0)):new r(t,e,n,a)}function i(t,e,n,r){return"undefined"==typeof n?(this._a00=65535&t,this._a16=t>>>16,this._a32=65535&e,this._a48=e>>>16,this):(this._a00=0|t,this._a16=0|e,this._a32=0|n,this._a48=0|r,this)}function o(t){return this._a00=65535&t,this._a16=t>>>16,this._a32=0,this._a48=0,this}function s(t,e){e=e||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var n=a[e]||new r(Math.pow(e,5)),i=0,o=t.length;o>i;i+=5){var s=Math.min(5,o-i),u=parseInt(t.slice(i,i+s),e);this.multiply(5>s?new r(Math.pow(e,s)):n).add(new r(u))}return this}var a={16:r(Math.pow(16,5)),10:r(Math.pow(10,5)),2:r(Math.pow(2,5))},u={16:r(16),10:r(10),2:r(2)};r.prototype.fromBits=i,r.prototype.fromNumber=o,r.prototype.fromString=s,r.prototype.toNumber=function(){return this._a16<<16|this._a00},r.prototype.toString=function(t){t=t||10;var e=u[t]||new r(t);if(!this.gt(e))return this.toNumber().toString(t);for(var n=this.clone(),i=new Array(64),o=63;o>=0&&(n.div(e),i[o]=n.remainder.toNumber().toString(t),n.gt(e));o--);return i[o-1]=n.toNumber().toString(t),i.join("")},r.prototype.add=function(t){var e=this._a00+t._a00,n=e>>>16;n+=this._a16+t._a16;var r=n>>>16;r+=this._a32+t._a32;var i=r>>>16;return i+=this._a48+t._a48,this._a00=65535&e,this._a16=65535&n,this._a32=65535&r,this._a48=65535&i,this},r.prototype.subtract=function(t){return this.add(t.clone().negate())},r.prototype.multiply=function(t){var e=this._a00,n=this._a16,r=this._a32,i=this._a48,o=t._a00,s=t._a16,a=t._a32,u=t._a48,h=e*o,f=h>>>16;f+=e*s;var c=f>>>16;f&=65535,f+=n*o,c+=f>>>16,c+=e*a;var l=c>>>16;return c&=65535,c+=n*s,l+=c>>>16,c&=65535,c+=r*o,l+=c>>>16,l+=e*u,l&=65535,l+=n*a,l&=65535,l+=r*s,l&=65535,l+=i*o,this._a00=65535&h,this._a16=65535&f,this._a32=65535&c,this._a48=65535&l,this},r.prototype.div=function(t){if(0==t._a16&&0==t._a32&&0==t._a48){if(0==t._a00)throw Error("division by zero");if(1==t._a00)return this.remainder=new r(0),this}if(t.gt(this))return this.remainder=new r(0),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(t))return this.remainder=new r(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var e=t.clone(),n=-1;!this.lt(e);)e.shiftLeft(1,!0),n++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;n>=0;n--)e.shiftRight(1),this.remainder.lt(e)||(this.remainder.subtract(e),n>=48?this._a48|=1<<n-48:n>=32?this._a32|=1<<n-32:n>=16?this._a16|=1<<n-16:this._a00|=1<<n);return this},r.prototype.negate=r.prototype.not=function(){var t=(65535&~this._a00)+1;return this._a00=65535&t,t=(65535&~this._a16)+(t>>>16),this._a16=65535&t,t=(65535&~this._a32)+(t>>>16),this._a32=65535&t,this._a48=65535&~this._a48+(t>>>16),this},r.prototype.equals=r.prototype.eq=function(t){return this._a48==t._a48&&this._a00==t._a00&&this._a32==t._a32&&this._a16==t._a16},r.prototype.greaterThan=r.prototype.gt=function(t){return this._a48>t._a48?!0:this._a48<t._a48?!1:this._a32>t._a32?!0:this._a32<t._a32?!1:this._a16>t._a16?!0:this._a16<t._a16?!1:this._a00>t._a00},r.prototype.lessThan=r.prototype.lt=function(t){return this._a48<t._a48?!0:this._a48>t._a48?!1:this._a32<t._a32?!0:this._a32>t._a32?!1:this._a16<t._a16?!0:this._a16>t._a16?!1:this._a00<t._a00},r.prototype.or=function(t){return this._a00|=t._a00,this._a16|=t._a16,this._a32|=t._a32,this._a48|=t._a48,this},r.prototype.and=function(t){return this._a00&=t._a00,this._a16&=t._a16,this._a32&=t._a32,this._a48&=t._a48,this},r.prototype.xor=function(t){return this._a00^=t._a00,this._a16^=t._a16,this._a32^=t._a32,this._a48^=t._a48,this},r.prototype.shiftRight=r.prototype.shiftr=function(t){return t%=64,t>=48?(this._a00=this._a48>>t-48,this._a16=0,this._a32=0,this._a48=0):t>=32?(t-=32,this._a00=65535&(this._a32>>t|this._a48<<16-t),this._a16=65535&this._a48>>t,this._a32=0,this._a48=0):t>=16?(t-=16,this._a00=65535&(this._a16>>t|this._a32<<16-t),this._a16=65535&(this._a32>>t|this._a48<<16-t),this._a32=65535&this._a48>>t,this._a48=0):(this._a00=65535&(this._a00>>t|this._a16<<16-t),this._a16=65535&(this._a16>>t|this._a32<<16-t),this._a32=65535&(this._a32>>t|this._a48<<16-t),this._a48=65535&this._a48>>t),this},r.prototype.shiftLeft=r.prototype.shiftl=function(t,e){return t%=64,t>=48?(this._a48=this._a00<<t-48,this._a32=0,this._a16=0,this._a00=0):t>=32?(t-=32,this._a48=this._a16<<t|this._a00>>16-t,this._a32=65535&this._a00<<t,this._a16=0,this._a00=0):t>=16?(t-=16,this._a48=this._a32<<t|this._a16>>16-t,this._a32=65535&(this._a16<<t|this._a00>>16-t),this._a16=65535&this._a00<<t,this._a00=0):(this._a48=this._a48<<t|this._a32>>16-t,this._a32=65535&(this._a32<<t|this._a16>>16-t),this._a16=65535&(this._a16<<t|this._a00>>16-t),this._a00=65535&this._a00<<t),e||(this._a48&=65535),this},r.prototype.rotateLeft=r.prototype.rotl=function(t){if(t%=64,0==t)return this;if(t>=32){var e=this._a00;if(this._a00=this._a32,this._a32=e,e=this._a48,this._a48=this._a16,this._a16=e,32==t)return this;t-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n<<t|r>>>32-t,o=r<<t|n>>>32-t;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},r.prototype.rotateRight=r.prototype.rotr=function(t){if(t%=64,0==t)return this;if(t>=32){var e=this._a00;if(this._a00=this._a32,this._a32=e,e=this._a48,this._a48=this._a16,this._a16=e,32==t)return this;t-=32}var n=this._a48<<16|this._a32,r=this._a16<<16|this._a00,i=n>>>t|r<<32-t,o=r>>>t|n<<32-t;return this._a00=65535&o,this._a16=o>>>16,this._a32=65535&i,this._a48=i>>>16,this},r.prototype.clone=function(){return new r(this._a00,this._a16,this._a32,this._a48)},"undefined"!=typeof t&&t.amd?t([],function(){return r}):"undefined"!=typeof n&&n.exports?n.exports=r:e.UINT64=r}(this)},{}],21:[function(e,n){var r=e("__browserify_Buffer").Buffer;!function(i){function o(){return 2==arguments.length?new o(arguments[1]).update(arguments[0]).digest():this instanceof o?(s.call(this,arguments[0]),void 0):new o(arguments[0])}function s(t){return this.seed=t instanceof a?t.clone():a(t),this.v1=this.seed.clone().add(p),this.v2=this.seed.clone().add(h),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(u),this.total_len=0,this.memsize=0,this.memory=new r(16),this}var a=e("cuint").UINT32;a.prototype.xxh_update=function(t,e){var n,r,i=h._low,o=h._high;r=t*i,n=r>>>16,n+=e*i,n&=65535,n+=t*o;var s=this._low+(65535&r),a=s>>>16;a+=this._high+(65535&n);var f=a<<16|65535&s;f=f<<13|f>>>19,s=65535&f,a=f>>>16,i=u._low,o=u._high,r=s*i,n=r>>>16,n+=a*i,n&=65535,n+=s*o,this._low=65535&r,this._high=65535&n};var u=a("2654435761"),h=a("2246822519"),f=a("3266489917"),c=a("668265263"),l=a("374761393"),p=u.clone().add(h);o.prototype.init=s,o.prototype.update=function(t){var e="string"==typeof t,n=0,r=t.length,i=n+r;if(0==r)return this;if(this.total_len+=r,0==this.memsize&&e&&(this.memory=""),this.memsize+r<16)return e?this.memory+=t:t.copy(this.memory,this.memsize,0,r),this.memsize+=r,this;if(this.memsize>0){e?this.memory+=t.slice(0,16-this.memsize):t.copy(this.memory,this.memsize,0,16-this.memsize);var o=0;e?(this.v1.xxh_update(this.memory.charCodeAt(o+1)<<8|this.memory.charCodeAt(o),this.memory.charCodeAt(o+3)<<8|this.memory.charCodeAt(o+2)),o+=4,this.v2.xxh_update(this.memory.charCodeAt(o+1)<<8|this.memory.charCodeAt(o),this.memory.charCodeAt(o+3)<<8|this.memory.charCodeAt(o+2)),o+=4,this.v3.xxh_update(this.memory.charCodeAt(o+1)<<8|this.memory.charCodeAt(o),this.memory.charCodeAt(o+3)<<8|this.memory.charCodeAt(o+2)),o+=4,this.v4.xxh_update(this.memory.charCodeAt(o+1)<<8|this.memory.charCodeAt(o),this.memory.charCodeAt(o+3)<<8|this.memory.charCodeAt(o+2))):(this.v1.xxh_update(this.memory[o+1]<<8|this.memory[o],this.memory[o+3]<<8|this.memory[o+2]),o+=4,this.v2.xxh_update(this.memory[o+1]<<8|this.memory[o],this.memory[o+3]<<8|this.memory[o+2]),o+=4,this.v3.xxh_update(this.memory[o+1]<<8|this.memory[o],this.memory[o+3]<<8|this.memory[o+2]),o+=4,this.v4.xxh_update(this.memory[o+1]<<8|this.memory[o],this.memory[o+3]<<8|this.memory[o+2])),n+=16-this.memsize,this.memsize=0,e&&(this.memory="")}if(i-16>=n){var s=i-16;do e?(this.v1.xxh_update(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2)),n+=4,this.v2.xxh_update(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2)),n+=4,this.v3.xxh_update(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2)),n+=4,this.v4.xxh_update(t.charCodeAt(n+1)<<8|t.charCodeAt(n),t.charCodeAt(n+3)<<8|t.charCodeAt(n+2))):(this.v1.xxh_update(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2]),n+=4,this.v2.xxh_update(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2]),n+=4,this.v3.xxh_update(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2]),n+=4,this.v4.xxh_update(t[n+1]<<8|t[n],t[n+3]<<8|t[n+2])),n+=4;while(s>=n)}return i>n&&(e?this.memory+=t.slice(n):t.copy(this.memory,this.memsize,n,i),this.memsize=i-n),this},o.prototype.digest=function(){var t,e,n=this.memory,r="string"==typeof n,i=0,o=this.memsize,s=new a;for(t=this.total_len>=16?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.add(l),t.add(s.fromNumber(this.total_len));o-4>=i;)r?s.fromBits(n.charCodeAt(i+1)<<8|n.charCodeAt(i),n.charCodeAt(i+3)<<8|n.charCodeAt(i+2)):s.fromBits(n[i+1]<<8|n[i],n[i+3]<<8|n[i+2]),t.add(s.multiply(f)).rotl(17).multiply(c),i+=4;for(;o>i;)s.fromBits(r?n.charCodeAt(i++):n[i++],0),t.add(s.multiply(l)).rotl(11).multiply(u);return e=t.clone().shiftRight(15),t.xor(e).multiply(h),e=t.clone().shiftRight(13),t.xor(e).multiply(f),e=t.clone().shiftRight(16),t.xor(e),this.init(this.seed),t},"undefined"!=typeof t&&t.amd?t([],function(){return o}):"undefined"!=typeof n&&n.exports?n.exports=o:i.XXH=o}(this)},{__browserify_Buffer:3,cuint:18}]},{},[7])(7)});